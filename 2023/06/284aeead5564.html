<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><title>Hexo</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '6.3.0'
} </script><meta name="generator" content="Hexo 6.3.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84"><span class="toc-number">1.</span> <span class="toc-text">ä¸€ã€å®éªŒç›®çš„</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">äºŒã€å®éªŒåŸç†</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9%E5%92%8C%E6%AD%A5%E9%AA%A4"><span class="toc-number">3.</span> <span class="toc-text">ä¸‰ã€å®éªŒå†…å®¹å’Œæ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9"><span class="toc-number">3.1.</span> <span class="toc-text">(1)å®éªŒå†…å®¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%9E%E9%AA%8C%E6%AD%A5%E9%AA%A4"><span class="toc-number">3.2.</span> <span class="toc-text">(2)å®éªŒæ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BA%93%E5%92%8C%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AF%BC%E5%85%A5"><span class="toc-number">3.2.1.</span> <span class="toc-text">1.åº“å’Œæ•°æ®çš„å¯¼å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8E%A2%E7%B4%A2%E6%80%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90"><span class="toc-number">3.2.2.</span> <span class="toc-text">2.æ¢ç´¢æ€§æ•°æ®åˆ†æ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1%E6%A3%80%E6%9F%A5%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">2.1æ£€æŸ¥æ•°æ®å®Œæ•´æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2%E5%88%97%E5%88%86%E6%9E%90"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">2.2åˆ—åˆ†æ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3%E5%88%86%E6%9E%90%E5%93%AA%E4%B8%AA%E8%A1%97%E5%8C%BA%E6%8B%A5%E6%9C%89%E6%9C%80%E9%AB%98%E6%88%BF%E4%BB%B7%EF%BC%9F"><span class="toc-number">3.2.2.3.</span> <span class="toc-text">2.3åˆ†æå“ªä¸ªè¡—åŒºæ‹¥æœ‰æœ€é«˜æˆ¿ä»·ï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4%E5%88%86%E6%9E%90%E6%88%BF%E4%BA%A7%E7%8A%B6%E5%86%B5%E6%98%AF%E5%90%A6%E4%BC%9A%E5%BD%B1%E5%93%8D%E4%BB%B7%E5%80%BC%EF%BC%9F"><span class="toc-number">3.2.2.4.</span> <span class="toc-text">2.4åˆ†ææˆ¿äº§çŠ¶å†µæ˜¯å¦ä¼šå½±å“ä»·å€¼ï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5%E6%88%BF%E4%BA%A7%E7%9A%84%E7%89%B9%E7%82%B9%E5%92%8C%E5%8D%87%E7%BA%A7%EF%BC%88%E5%93%AA%E4%BA%9B%E5%8A%9F%E8%83%BD%E4%B8%BA%E6%88%BF%E5%AD%90%E5%A2%9E%E5%80%BC%EF%BC%89"><span class="toc-number">3.2.2.5.</span> <span class="toc-text">2.5æˆ¿äº§çš„ç‰¹ç‚¹å’Œå‡çº§ï¼ˆå“ªäº›åŠŸèƒ½ä¸ºæˆ¿å­å¢å€¼ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6%E6%8E%A2%E7%B4%A2%E6%80%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%BB%E7%BB%93"><span class="toc-number">3.2.2.6.</span> <span class="toc-text">2.6æ¢ç´¢æ€§æ•°æ®åˆ†ææ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B%EF%BC%88Feature-Engineering%EF%BC%89"><span class="toc-number">3.2.3.</span> <span class="toc-text">3.ç‰¹å¾å·¥ç¨‹ï¼ˆFeature Engineeringï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E6%A3%80%E6%9F%A5"><span class="toc-number">3.2.3.1.</span> <span class="toc-text">åŠŸèƒ½æ£€æŸ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BF%BB%E6%96%B0"><span class="toc-number">3.2.3.2.</span> <span class="toc-text">ç¿»æ–°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BF%BB%E6%96%B0%E5%B9%B4%E9%99%90"><span class="toc-number">3.2.3.3.</span> <span class="toc-text">ç¿»æ–°å¹´é™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%B0%E4%B8%8B%E5%AE%A4"><span class="toc-number">3.2.3.4.</span> <span class="toc-text">åœ°ä¸‹å®¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E6%B5%B4%E5%AE%A4"><span class="toc-number">3.2.3.5.</span> <span class="toc-text">ä¸»æµ´å®¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%B6%E5%BA%AD%E4%BD%8F%E5%AE%85"><span class="toc-number">3.2.3.6.</span> <span class="toc-text">å®¶åº­ä½å®…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%80%E5%94%AE%E5%B9%B4%E4%BB%BD%E5%92%8C%E9%94%80%E5%94%AE%E5%AD%A3%E5%BA%A6"><span class="toc-number">3.2.3.7.</span> <span class="toc-text">é”€å”®å¹´ä»½å’Œé”€å”®å­£åº¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%82%AE%E6%94%BF%E7%BC%96%E7%A0%81%E4%BC%AA%E5%8F%98%E9%87%8F"><span class="toc-number">3.2.3.8.</span> <span class="toc-text">é‚®æ”¿ç¼–ç ä¼ªå˜é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BD%A2%E5%8D%A7%E5%AE%A4%E5%92%8C%E6%B5%B4%E5%AE%A4%E3%80%82"><span class="toc-number">3.2.3.9.</span> <span class="toc-text">æ–¹å½¢å§å®¤å’Œæµ´å®¤ã€‚</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B%E9%80%89%E6%8B%A9"><span class="toc-number">3.2.4.</span> <span class="toc-text">4.çº¿æ€§å›å½’æ¨¡å‹é€‰æ‹©</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1%E8%AE%AD%E7%BB%83%E4%BB%A5%E5%8F%8A%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">3.2.4.1.</span> <span class="toc-text">4.1è®­ç»ƒä»¥åŠæµ‹è¯•æ•°æ®é›†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2%E5%A4%9A%E5%85%83%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B"><span class="toc-number">3.2.4.2.</span> <span class="toc-text">4.2å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3Scikit-learn%E5%BA%93%E4%B8%AD%E7%9A%84%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B"><span class="toc-number">3.2.4.3.</span> <span class="toc-text">4.3Scikit-learnåº“ä¸­çš„çº¿æ€§å›å½’æ¨¡å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4%E9%80%92%E5%BD%92%E7%89%B9%E5%BE%81%E6%B6%88%E9%99%A4"><span class="toc-number">3.2.4.4.</span> <span class="toc-text">4.4é€’å½’ç‰¹å¾æ¶ˆé™¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-5%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81%E7%9A%84%E9%80%92%E5%BD%92%E7%89%B9%E5%BE%81%E6%B6%88%E9%99%A4"><span class="toc-number">3.2.4.5.</span> <span class="toc-text">4.5äº¤å‰éªŒè¯çš„é€’å½’ç‰¹å¾æ¶ˆé™¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-6%E6%A8%A1%E5%9E%8B%E5%AF%B9%E6%AF%94%E4%B8%8E%E9%80%89%E6%8B%A9"><span class="toc-number">3.2.4.6.</span> <span class="toc-text">4.6æ¨¡å‹å¯¹æ¯”ä¸é€‰æ‹©</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%A8%A1%E5%9E%8B%E5%AF%BC%E5%87%BA"><span class="toc-number">3.2.5.</span> <span class="toc-text">5.æ¨¡å‹å¯¼å‡º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E9%A2%84%E6%B5%8B%EF%BC%88%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%89"><span class="toc-number">3.2.6.</span> <span class="toc-text">6.é¢„æµ‹ï¼ˆæ¨¡å‹çš„ä½¿ç”¨ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1%E5%AF%BC%E5%85%A5%E5%BA%93"><span class="toc-number">3.2.6.1.</span> <span class="toc-text">6.1å¯¼å…¥åº“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2%E5%AF%BC%E5%85%A5%E6%B5%8B%E8%AF%95%E9%9B%86"><span class="toc-number">3.2.6.2.</span> <span class="toc-text">6.2å¯¼å…¥æµ‹è¯•é›†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-%E9%82%AE%E6%94%BF%E7%BC%96%E7%A0%81%E4%BC%AA%E5%8F%98%E9%87%8F%E5%AF%BC%E5%85%A5"><span class="toc-number">3.2.6.3.</span> <span class="toc-text">6.3 é‚®æ”¿ç¼–ç ä¼ªå˜é‡å¯¼å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-4%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B"><span class="toc-number">3.2.6.4.</span> <span class="toc-text">6.4ç‰¹å¾å·¥ç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-5%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9E%8B%E4%B8%8E%E9%A2%84%E6%B5%8B%E4%BB%B7%E6%A0%BC"><span class="toc-number">3.2.6.5.</span> <span class="toc-text">6.5å¯¼å…¥æ¨¡å‹ä¸é¢„æµ‹ä»·æ ¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-6%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E5%90%88%E5%B9%B6%E4%B8%8E%E5%AF%BC%E5%87%BA"><span class="toc-number">3.2.6.6.</span> <span class="toc-text">6.6é¢„æµ‹ç»“æœåˆå¹¶ä¸å¯¼å‡º</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C"><span class="toc-number">4.</span> <span class="toc-text">å››ã€å®éªŒç»“æœ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%AE%9E%E9%AA%8C%E5%88%86%E6%9E%90"><span class="toc-number">5.</span> <span class="toc-text">äº”ã€å®éªŒåˆ†æ</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">John Doe</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">51</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">3</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">37</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Hexo</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right"></span></div><div id="post-info"><div id="post-title">No title</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2023-06-04</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/">è¯¾ç¨‹ç¬”è®°</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/">æ•°æ®æŒ–æ˜</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/">å®éªŒæŠ¥å‘Š</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="ä¸€ã€å®éªŒç›®çš„"><a href="#ä¸€ã€å®éªŒç›®çš„" class="headerlink" title="ä¸€ã€å®éªŒç›®çš„"></a>ä¸€ã€å®éªŒç›®çš„</h1><p>(1) ç¼–å†™ç¨‹åºï¼Œå®ç°æˆ¿ä»·çš„é¢„æµ‹æ¨¡å‹çš„å»ºç«‹ã€‚<br>(2) è°ƒç”¨å»ºç«‹çš„æ¨¡å‹ï¼Œè¿›è¡ŒæœªçŸ¥æˆ¿ä»·åœ°åŒºçš„æˆ¿ä»·é¢„æµ‹ã€‚<br>(3) å†™å‡ºå®éªŒæŠ¥å‘Šã€‚</p>
<h1 id="äºŒã€å®éªŒåŸç†"><a href="#äºŒã€å®éªŒåŸç†" class="headerlink" title="äºŒã€å®éªŒåŸç†"></a>äºŒã€å®éªŒåŸç†</h1><p>(1)æ•°æ®é¢„å¤„ç†ï¼šå¯¹åŸå§‹æ•°æ®è¿›è¡Œæ¸…æ´—ã€ç¼ºå¤±å€¼å¤„ç†ã€ç‰¹å¾å·¥ç¨‹ç­‰é¢„å¤„ç†æ­¥éª¤ï¼Œä»¥è·å¾—å¯ç”¨äºå»ºæ¨¡çš„æ•°æ®é›†ã€‚</p>
<p>(2)æ¨¡å‹é€‰æ‹©å’Œè®­ç»ƒï¼šé€‰å–å¤šä¸ªçº¿æ€§å›å½’æ¨¡å‹ä½œä¸ºå€™é€‰æ¨¡å‹ï¼Œä¾‹å¦‚å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹ã€é€’å½’ç‰¹å¾æ¶ˆé™¤ã€äº¤å‰éªŒè¯çš„é€’å½’ç‰¹å¾æ¶ˆé™¤ç­‰ã€‚é’ˆå¯¹æ¯ä¸ªæ¨¡å‹ï¼Œä½¿ç”¨è®­ç»ƒæ•°æ®é›†è¿›è¡Œæ¨¡å‹è®­ç»ƒã€‚</p>
<p>(3)æ¨¡å‹è¯„ä¼°ï¼šä½¿ç”¨æµ‹è¯•æ•°æ®é›†è¯„ä¼°æ¯ä¸ªæ¨¡å‹çš„æ€§èƒ½ï¼Œè®¡ç®—è¯„ä»·æŒ‡æ ‡å¦‚å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰ã€å†³å®šç³»æ•°ï¼ˆR-squaredï¼‰ç­‰ï¼Œä»¥è¡¡é‡æ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›ã€‚</p>
<p>(4)æ¨¡å‹æ¯”è¾ƒä¸é€‰æ‹©ï¼šæ¯”è¾ƒä¸åŒæ¨¡å‹çš„æ€§èƒ½å’Œç‰¹ç‚¹ï¼Œè€ƒè™‘å„ä¸ªæ¨¡å‹çš„ä¼˜ç¼ºç‚¹ï¼Œé€‰æ‹©æœ€ä½³çš„æ¨¡å‹ä½œä¸ºæœ€ç»ˆçš„æˆ¿ä»·é¢„æµ‹æ¨¡å‹ã€‚</p>
<h1 id="ä¸‰ã€å®éªŒå†…å®¹å’Œæ­¥éª¤"><a href="#ä¸‰ã€å®éªŒå†…å®¹å’Œæ­¥éª¤" class="headerlink" title="ä¸‰ã€å®éªŒå†…å®¹å’Œæ­¥éª¤"></a>ä¸‰ã€å®éªŒå†…å®¹å’Œæ­¥éª¤</h1><h2 id="1-å®éªŒå†…å®¹"><a href="#1-å®éªŒå†…å®¹" class="headerlink" title="(1)å®éªŒå†…å®¹"></a>(1)å®éªŒå†…å®¹</h2><ol>
<li>é¦–å…ˆï¼Œæ£€æŸ¥æ•°æ®çš„å®Œæ•´æ€§ï¼Œå¹¶è¿›è¡Œæ–¹å·®åˆ†æå’ŒéŸ¦å°”å¥‡Tæ£€éªŒç­‰ç»Ÿè®¡æ£€éªŒï¼Œä»¥å‘ç°æ•°æ®ä¸­çš„æ˜¾è‘—æ€§ã€‚ç ”ç©¶å‘ç°ï¼Œè¯¥ç‰©ä¸šçš„é‚®æ”¿ç¼–ç ã€é‡å»ºçŠ¶å†µã€åœ°ä¸‹å®¤çš„å­˜åœ¨ä»¥åŠç‰©ä¸šçš„çŠ¶å†µæ˜¯å½±å“ç‰©ä¸šä»·å€¼çš„é‡è¦å› ç´ ã€‚</li>
<li>å…¶æ¬¡ï¼Œè®¾è®¡äº†è®¸å¤šåŠŸèƒ½æ¥å¢å¼ºçº¿æ€§å›å½’å»ºæ¨¡ã€‚ä¸€äº›ç‰¹å¾è¢«é‡æ–°åˆ›å»ºä¸ºä¼¯åŠªåˆ©åˆ†å¸ƒï¼Œç”¨ä½œåˆ†ç±»æ•°æ®ï¼Œä¾‹å¦‚ä¸»æµ´å®¤çš„å­˜åœ¨ã€‚å§å®¤å’Œæµ´å®¤ç­‰æ™®é€šä»·å€¼ä¹Ÿè¢«å¹³æ–¹ï¼Œä»¥å¼ºè°ƒå¤šä¸ªæµ´å®¤å’Œå§å®¤å¯¹æˆ¿åœ°äº§ä»·æ ¼çš„å½±å“ã€‚</li>
<li>æœ€åï¼Œä»¥ç»Ÿè®¡æ¨¡å‹OLSæ–¹æ³•ä¸ºåŸºçº¿ï¼Œå»ºç«‹äº†å››ä¸ªçº¿æ€§å›å½’æ¨¡å‹ã€‚è¯¥æ¨¡å‹ä¸»è¦åŸºäºå·¥ç¨‹ç‰¹æ€§ã€‚ç„¶åï¼Œä»Scikit Learnåº“ä¸­åˆ›å»ºäº†ä¸‰ä¸ªæ¨¡å‹ï¼šåŸºæœ¬çº¿æ€§å›å½’ã€å…·æœ‰é€’å½’ç‰¹å¾æ¶ˆé™¤çš„çº¿æ€§å›å½’ä»¥åŠå…·æœ‰é€’å½’ç‰¹å¾å»é™¤å’Œäº¤å‰éªŒè¯çš„çº¿æ€§å›å½’ã€‚é€šè¿‡ç³»æ•°åˆ†æï¼Œç¡®å®šå…·æœ‰é€’å½’ç‰¹å¾æ¶ˆé™¤çš„çº¿æ€§å›å½’æ¨¡å‹æ˜¯æœ€ç¨³å®šçš„æ¨¡å‹ï¼Œå¹¶é€‰æ‹©å®ƒè¿›è¡Œæœ€ç»ˆå®ç°ã€‚</li>
</ol>
<h2 id="2-å®éªŒæ­¥éª¤"><a href="#2-å®éªŒæ­¥éª¤" class="headerlink" title="(2)å®éªŒæ­¥éª¤"></a>(2)å®éªŒæ­¥éª¤</h2><ol>
<li>åº“å’Œæ•°æ®çš„å¯¼å…¥</li>
<li>æ¢ç´¢æ€§æ•°æ®åˆ†æ</li>
<li>ç‰¹å¾å·¥ç¨‹ï¼ˆFeature Engineeringï¼‰</li>
<li>çº¿æ€§å›å½’æ¨¡å‹é€‰æ‹©</li>
<li>æ¨¡å‹å¯¼å‡º</li>
<li>é¢„æµ‹ï¼ˆæ¨¡å‹çš„ä½¿ç”¨ï¼‰</li>
</ol>
<p>å…·ä½“æ­¥éª¤ï¼š</p>
<h3 id="1-åº“å’Œæ•°æ®çš„å¯¼å…¥"><a href="#1-åº“å’Œæ•°æ®çš„å¯¼å…¥" class="headerlink" title="1.åº“å’Œæ•°æ®çš„å¯¼å…¥"></a>1.åº“å’Œæ•°æ®çš„å¯¼å…¥</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> scipy.stats <span class="keyword">as</span> stats</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> plotly.express <span class="keyword">as</span> px</span><br><span class="line"><span class="keyword">import</span> geopandas <span class="keyword">as</span> gpd</span><br><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm</span><br><span class="line"><span class="keyword">import</span> statsmodels.formula.api <span class="keyword">as</span> smf</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> RFE, RFECV</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> metrics</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">%matplotlib inline</span><br><span class="line">pd.options.display.max_columns = <span class="number">500</span></span><br><span class="line">pd.options.display.max_rows = <span class="number">500</span></span><br><span class="line"></span><br><span class="line">kc_df = pd.read_csv(<span class="string">&quot;../../Dataset/kc_house_data_train.csv&quot;</span>, index_col=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h3 id="2-æ¢ç´¢æ€§æ•°æ®åˆ†æ"><a href="#2-æ¢ç´¢æ€§æ•°æ®åˆ†æ" class="headerlink" title="2.æ¢ç´¢æ€§æ•°æ®åˆ†æ"></a>2.æ¢ç´¢æ€§æ•°æ®åˆ†æ</h3><p>ä¸ºäº†ä¾¿äºç†è§£ï¼Œæœ¬èŠ‚å°†å¯¹æ•°æ®è¿›è¡Œå¯è§†åŒ–ï¼Œç„¶åå¯¹æ•°æ®ä¸­çš„å®è¯ç»“æœè¿›è¡Œé€‚å½“çš„ç»Ÿè®¡åˆ†æã€‚<br>ä»¥ä¸‹æ˜¯æœ¬èŠ‚ä¸­å›ç­”çš„é—®é¢˜çš„æ‘˜è¦ï¼š</p>
<ol>
<li>å“ªä¸ªè¡—åŒºæ‹¥æœ‰æœ€æœ‰ä»·å€¼çš„æˆ¿äº§ï¼Ÿ</li>
<li>æˆ¿äº§çŠ¶å†µæ˜¯å¦ä¼šå½±å“ä»·å€¼ï¼Ÿ</li>
</ol>
<ul>
<li>æˆ¿äº§å¹´é¾„å’ŒçŠ¶å†µæ˜¯å¦ç›¸å…³ï¼Ÿ</li>
</ul>
<ol start="3">
<li>å“ªäº›åŠŸèƒ½ä¸ºæˆ¿å­å¢å€¼ï¼Ÿ</li>
</ol>
<ul>
<li>ç¿»ä¿®ä¼šå¢åŠ æˆ¿åœ°äº§ä»·å€¼å—ï¼Ÿ</li>
<li>åœ°ä¸‹å®¤èƒ½å¢åŠ æˆ¿åœ°äº§ä»·å€¼å—ï¼Ÿ</li>
</ul>
<h4 id="2-1æ£€æŸ¥æ•°æ®å®Œæ•´æ€§"><a href="#2-1æ£€æŸ¥æ•°æ®å®Œæ•´æ€§" class="headerlink" title="2.1æ£€æŸ¥æ•°æ®å®Œæ•´æ€§"></a>2.1æ£€æŸ¥æ•°æ®å®Œæ•´æ€§</h4><p>æ£€æŸ¥æ•°æ®é›†ä¸­æ˜¯å¦å­˜åœ¨ç¼ºå¤±å€¼</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">total_null = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> null_count <span class="keyword">in</span> kc_df.isnull().<span class="built_in">sum</span>():</span><br><span class="line">Â  Â  total_null += null_count</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;There are total <span class="subst">&#123;total_null&#125;</span> null values in the data&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š<code>here are total 0 null values in the data</code><br>è¯´æ˜è¯¥æ•°æ®é›†ä¸­ä¸å­˜åœ¨ç¼ºå¤±å€¼ï¼Œæ•°æ®é›†å®Œæ•´ã€‚</p>
<p>ç”±äºæ•°æ®é›†åŒ…å«è¿ç»­å€¼å’Œåˆ†ç±»å€¼çš„æ··åˆï¼Œè®¸å¤šåˆ—åŒ…å«ä¸åŸºæœ¬ç»Ÿè®¡åˆ†ææ— å…³çš„åˆ†ç±»å€¼ï¼Œå› æ­¤é€‰æ‹©æˆ‘ä»¬éœ€è¦çš„åˆ—æ¥åˆ†ææ•°æ®ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">summary_features = [<span class="string">&quot;price&quot;</span>, <span class="string">&quot;yr_built&quot;</span>, <span class="string">&quot;bedrooms&quot;</span>, <span class="string">&quot;bathrooms&quot;</span>, <span class="string">&quot;sqft_living&quot;</span>, <span class="string">&quot;sqft_lot&quot;</span>,<span class="string">&quot;floors&quot;</span>, <span class="string">&quot;condition&quot;</span>, <span class="string">&quot;grade&quot;</span>, <span class="string">&quot;sqft_living15&quot;</span>, <span class="string">&quot;sqft_lot15&quot;</span>]</span><br><span class="line">kc_df[summary_features].describe()</span><br></pre></td></tr></table></figure>
<p>æˆªå–æ‰€éœ€åˆ—åçš„æ•°æ®æ¦‚è¿°å¦‚ä¸‹ï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041119822.png" alt="image.png"></p>
<h4 id="2-2åˆ—åˆ†æ"><a href="#2-2åˆ—åˆ†æ" class="headerlink" title="2.2åˆ—åˆ†æ"></a>2.2åˆ—åˆ†æ</h4><p>-<strong>ä»·æ ¼</strong><em>-ä»·æ ¼æœ‰2ä¸ªæ•°é‡çº§çš„å·¨å¤§å·®è·ã€‚å°†éœ€è¦è¿›ä¸€æ­¥çš„åˆ†æï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹é”€å”®æ—¥æœŸã€‚<br>-<strong>yr_builded</strong>-æ•°æ®é›†åŒ…å«ä»1900å¹´åˆ°2015å¹´æ„å»ºçš„æ„å»ºã€‚<br>-<strong>é—´å§å®¤</strong>-0é—´å§å®¤è¡¨ç¤ºå•é—´å…¬å¯“ï¼Œå¤§å¤šæ•°ä½å®…åŒ…å«4é—´æˆ–æ›´å°‘çš„å§å®¤ï¼Œå¹¶æœ‰ä¸€äº›æç«¯çš„å¼‚å¸¸å€¼ã€‚<br>-<strong>æµ´å®¤</strong>-æƒŠè®¶åœ°å‘ç°ï¼Œæœ‰äº›å®¶åº­æ²¡æœ‰æµ´å®¤ã€‚å¤§å¤šæ•°äººä¼¼ä¹è‡³å°‘æœ‰ä¸€ä¸ª3&#x2F;4çš„æµ´å®¤ã€‚<br>-<strong>sqft_living</strong>-ä»å°å…¬å¯“åˆ°è±ªå®…ï¼Œå±…ä½åŒºä¹Ÿæœ‰å¾ˆå¤§çš„å·®å¼‚ã€‚<br>-<strong>sqft_lot</strong>-ç±»ä¼¼äºä¸Šé¢çš„sqft_livingã€‚<br>-<strong>å±‚</strong></em>-æœ‰ä¸€åŠçš„æ¥¼å±‚éœ€è¦è€ƒè™‘ï¼Œå®ƒä»¬æ˜¯ä¸è·¨è¶Šæˆ¿å­æ•´ä½“çš„é¡¶å±‚ã€‚<br>-<strong>æ¡ä»¶</strong>-å”®å‡ºçš„å¹³å‡æˆ¿äº§å”®ä»·ä¸º3.4ï¼ˆå¯èƒ½éœ€è¦è¡¨é¢ä¿®å¤ï¼‰ã€‚<br>-<strong>ç­‰çº§</strong>-é‡‘å¿çš„å¹³å‡ç­‰çº§ä¸º7ï¼Œè¿™æ„å‘³ç€å¹³å‡æˆ¿äº§çš„é”€å”®ç­‰çº§ç•¥é«˜äºå¹³å‡ç­‰çº§ã€‚<br>-<strong>sqft_living15</strong>-ç›¸é‚»å±æ€§çš„å¤§å°å¾€å¾€ç›¸ä¼¼ï¼ˆä¸sqft_lvingçš„è¶‹åŠ¿ç›¸ä¼¼ï¼‰-<strong>sqft_lot15</strong>-ä¸ä¸Šé¢çš„sqft_ling15ç›¸ä¼¼</p>
<h4 id="2-3åˆ†æå“ªä¸ªè¡—åŒºæ‹¥æœ‰æœ€é«˜æˆ¿ä»·ï¼Ÿ"><a href="#2-3åˆ†æå“ªä¸ªè¡—åŒºæ‹¥æœ‰æœ€é«˜æˆ¿ä»·ï¼Ÿ" class="headerlink" title="2.3åˆ†æå“ªä¸ªè¡—åŒºæ‹¥æœ‰æœ€é«˜æˆ¿ä»·ï¼Ÿ"></a>2.3åˆ†æå“ªä¸ªè¡—åŒºæ‹¥æœ‰æœ€é«˜æˆ¿ä»·ï¼Ÿ</h4><p>é€šè¿‡é‚®æ”¿ç¼–ç ï¼Œå¯¹ä¸åŒè¡—åŒºçš„æˆ¿ä»·è¿›è¡Œç»Ÿè®¡åˆ†æï¼Œè·å–æœ€é«˜æˆ¿ä»·çš„å‡ ä¸ªè¡—åŒºï¼Œä»¥ä¸‹æ˜¯å…·ä½“å®ç°ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#property values by zipcode calculation</span></span><br><span class="line">kc_top5_price = kc_df.groupby(<span class="string">&quot;zipcode&quot;</span>)[<span class="string">&quot;price&quot;</span>].mean().sort_values(ascending = <span class="literal">False</span>)[:<span class="number">5</span>]</span><br><span class="line">kc_mean_price = kc_df.price.mean()</span><br><span class="line"><span class="comment">#top5 neighborhood label for plot</span></span><br><span class="line">area_labels = [<span class="string">&quot;Medina&quot;</span>, <span class="string">&quot;Bellevue&quot;</span>, <span class="string">&quot;Mercer Island&quot;</span>, </span><br><span class="line">               <span class="string">&quot;Madison Park&quot;</span>, <span class="string">&quot;Capitol Hill&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#plotting the data</span></span><br><span class="line">plt.subplots(figsize=(<span class="number">8</span>,<span class="number">4</span>))</span><br><span class="line">sns.barplot(x=kc_top5_price.index, y=kc_top5_price, order=kc_top5_price.index, palette=<span class="string">&quot;Blues_d&quot;</span>) <span class="comment">#blue for seahawks!</span></span><br><span class="line">plt.xticks(np.arange(<span class="number">5</span>), area_labels, rotation=<span class="number">75</span>, size=<span class="number">8</span>) <span class="comment">#relabel x with list above</span></span><br><span class="line">plt.hlines(kc_mean_price, -<span class="number">.5</span> ,<span class="number">4.5</span>, colors=<span class="string">&quot;darkgoldenrod&quot;</span>, label=<span class="string">&quot;Average Price&quot;</span>) <span class="comment">#plot average price horizontal line</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#prettify graph</span></span><br><span class="line">plt.xlabel(<span class="string">&quot;Neighborhoods&quot;</span>, size=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Prices ($1mil)&quot;</span>, size=<span class="number">14</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Neighborhoods with Highest Property Price&quot;</span>, size=<span class="number">16</span>, y=<span class="number">1.08</span>)</span><br><span class="line">plt.legend() <span class="comment">#show legend</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#uncomment line below to export image</span></span><br><span class="line"><span class="comment"># plt.savefig(&quot;images/high_price_neighborhood.png&quot;,bbox_inches = &quot;tight&quot;)</span></span><br><span class="line">plt.show();</span><br></pre></td></tr></table></figure>
<p>æˆ¿ä»·æœ€é«˜çš„è¡—åŒº<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041123402.png" alt="image.png"></p>
<p>æ¥ç€ï¼Œé€šè¿‡çƒ­åŠ›å‹åœ°å›¾ï¼Œå°†æ¯ä¸ªåœ°åŒºå¹³å‡æˆ¿ä»·ä»¥çƒ­åŠ›å€¼çš„å½¢å¼ï¼Œç›´è§‚åœ°è¡¨ç°åœ¨åœ°å›¾ä¸Šï¼Œé¢œè‰²è¶Šæ·±ä»£è¡¨å¹³å‡æˆ¿ä»·è¶Šé«˜ï¼Œä»¥ä¸‹æ˜¯å…·ä½“å®ç°ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#shapefile data setup</span></span><br><span class="line">king_county = gpd.read_file(<span class="string">&quot;data/zipcode_shape/Zipcodes_for_King_County_and_Surrounding_Area___zipcode_area.shp&quot;</span>)</span><br><span class="line">king_county[<span class="string">&quot;zipcode&quot;</span>] = king_county[<span class="string">&quot;ZIP&quot;</span>] <span class="comment">#set up column for merge</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#kc_df price setup</span></span><br><span class="line">zip_price = kc_df.groupby(<span class="string">&quot;zipcode&quot;</span>).price.mean()</span><br><span class="line"></span><br><span class="line"><span class="comment">#plotting data setup</span></span><br><span class="line">zip_plot_df = king_county.join(zip_price, on=<span class="string">&quot;zipcode&quot;</span>, how=<span class="string">&quot;inner&quot;</span>)</span><br><span class="line"><span class="comment">#plot setup</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">12</span>,<span class="number">6</span>))</span><br><span class="line">zip_plot_df.plot(column=<span class="string">&quot;price&quot;</span>, cmap=<span class="string">&quot;YlOrRd&quot;</span>, linewidth=<span class="number">.25</span>, edgecolor=<span class="string">&quot;.25&quot;</span>, ax=ax)</span><br><span class="line"></span><br><span class="line"><span class="comment">#set up colorbar</span></span><br><span class="line">color_bar = plt.cm.ScalarMappable(cmap=<span class="string">&quot;YlOrRd&quot;</span>, norm=plt.Normalize(vmin=zip_price.<span class="built_in">min</span>(), vmax=zip_price.<span class="built_in">max</span>()))</span><br><span class="line">color_bar._A = []</span><br><span class="line">cbar = fig.colorbar(color_bar, fraction=<span class="number">0.03</span>, pad=<span class="number">0.02</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#set figure limit to zoom in on select neighborhoods</span></span><br><span class="line">ax.set_ylim(<span class="number">47.45</span>, <span class="number">47.7</span>)</span><br><span class="line">ax.set_xlim(-<span class="number">122.35</span>, -<span class="number">122.15</span>)</span><br><span class="line">ax.set_xticks([-<span class="number">122.35</span>, -<span class="number">122.15</span>])</span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Latitude&quot;</span>, size=<span class="number">12</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Longitude&quot;</span>, size=<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#labeling few areas</span></span><br><span class="line">ax.text(-<span class="number">122.257</span>, <span class="number">47.62</span>, <span class="string">&#x27;Medina&#x27;</span>)</span><br><span class="line">ax.text(-<span class="number">122.2</span>, <span class="number">47.57</span>, <span class="string">&#x27;Bellevue&#x27;</span>, rotation=-<span class="number">45</span>)</span><br><span class="line">ax.text(-<span class="number">122.26</span>, <span class="number">47.58</span>, <span class="string">&#x27;Mercer Island&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">&quot;Average Price per Zipcode Heatmap&quot;</span>, size=<span class="number">14</span>)</span><br><span class="line"><span class="comment">#uncomment below to save image</span></span><br><span class="line"><span class="comment"># plt.savefig(&quot;images/zipcode_price_heatmap.png&quot;,bbox_inches = &quot;tight&quot;)</span></span><br><span class="line">plt.show();</span><br></pre></td></tr></table></figure>
<p>å¹³å‡æˆ¿ä»·çš„çƒ­åŠ›å‹åœ°å›¾ï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041128807.png" alt="image.png"></p>
<p>é€šè¿‡åˆ†ææ¯ä¸ªåœ°åŒºï¼ˆä¸åŒé‚®æ”¿ç¼–ç ï¼‰çš„å¹³å‡æˆ¿åœ°äº§ä»·å€¼ï¼ŒMedinaã€Belleveã€Mercer Islandã€Madison Parkå’ŒCapitol Hillåœ°åŒºæˆä¸ºå¹³å‡æˆ¿åœ°äº§ä»·æ ¼æœ€é«˜çš„åœ°åŒºã€‚è¿™äº›ç¤¾åŒºçš„å¤§å¤šæ•°æˆ¿äº§æ˜¯é‡‘å¿å¹³å‡æˆ¿äº§ä»·å€¼çš„ä¸¤å€ï¼Œéº¦åœ°é‚£çš„å¹³å‡æˆ¿äº§ä»·å€¼æ˜¯é‡‘å¿çš„å››å€ã€‚ä¼¼ä¹æ˜¯ç”±äºé è¿‘åç››é¡¿æ¹–å’Œå¤§å‹å…¬å›­ï¼Œè¿™äº›æˆ¿äº§çš„ä»·å€¼è¶Šæ¥è¶Šé«˜ã€‚</p>
<p><strong>ä½¿ç”¨å‰5ä¸ªè¡—åŒºçš„å¯¹æˆ¿åœ°äº§ä»·æ ¼è¿›è¡Œæ–¹å·®åˆ†æ</strong><br>å¯¹æ¯”å‰äº”ä¸ªæ’åçš„é‚®æ”¿ç¼–ç ä¸å¹³å‡æˆ¿ä»·ä¹‹é—´çš„å…³ç³»ï¼Œé€šè¿‡ANOVAæ£€éªŒåˆ¤æ–­æ˜¯å¦å­˜åœ¨ç»Ÿè®¡ä¸Šçš„æ˜¾è‘—å·®å¼‚ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„è¾“å‡ºã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">alpha = <span class="number">0.05</span></span><br><span class="line"><span class="comment">#ANOVA Test Setup</span></span><br><span class="line">kc_top5 = kc_df[kc_df.zipcode.isin(kc_top5_price.index)]</span><br><span class="line">formula = <span class="string">&#x27;price~C(zipcode)&#x27;</span></span><br><span class="line">lm_top5 = smf.ols(formula, kc_top5).fit()</span><br><span class="line">anova_top5_table = sm.stats.anova_lm(lm_top5, typ=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> anova_top5_table[<span class="string">&quot;PR(&gt;F)&quot;</span>][<span class="number">0</span>] &lt; alpha:</span><br><span class="line">Â  Â  <span class="built_in">print</span>(<span class="string">&quot;Top 5 ranked zipcode have a statistically significant impact on average property value&quot;</span>)</span><br><span class="line">Â  Â  <span class="built_in">print</span>(<span class="string">&quot;Zipcdoe ANOVA F-statisic Probability: &quot;</span>, anova_top5_table[<span class="string">&quot;PR(&gt;F)&quot;</span>][<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºï¼š<br><code>Top 5 ranked zipcode have a statistically significant impact on average property value Zipcdoe ANOVA F-statisic Probability: 1.2515560223110402e-19</code></p>
<h4 id="2-4åˆ†ææˆ¿äº§çŠ¶å†µæ˜¯å¦ä¼šå½±å“ä»·å€¼ï¼Ÿ"><a href="#2-4åˆ†ææˆ¿äº§çŠ¶å†µæ˜¯å¦ä¼šå½±å“ä»·å€¼ï¼Ÿ" class="headerlink" title="2.4åˆ†ææˆ¿äº§çŠ¶å†µæ˜¯å¦ä¼šå½±å“ä»·å€¼ï¼Ÿ"></a>2.4åˆ†ææˆ¿äº§çŠ¶å†µæ˜¯å¦ä¼šå½±å“ä»·å€¼ï¼Ÿ</h4><p>é€šè¿‡ä»¥ä¸‹ä»£ç å¯è§†åŒ–ä¸åŒæˆ¿å±‹æ¡ä»¶è¯„åˆ†ä¸‹çš„å¹³å‡æˆ¿ä»·å’Œä¸­ä½æ•°æˆ¿ä»·ï¼Œå¹¶å¯¹æ¯”å¹³å‡æˆ¿ä»·å’Œä¸­ä½æ•°æˆ¿ä»·ä¹‹é—´çš„å·®å¼‚ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#-------------------Conditions Calculation--------------------------------#</span></span><br><span class="line">condition_mean = kc_df.groupby(<span class="string">&quot;condition&quot;</span>)[<span class="string">&quot;price&quot;</span>].mean()</span><br><span class="line">condition_median = kc_df.groupby(<span class="string">&quot;condition&quot;</span>)[<span class="string">&quot;price&quot;</span>].median()</span><br><span class="line">condition_score = np.arange(<span class="number">1</span>,<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#--------------------------Bar Plots--------------------------------------#</span></span><br><span class="line"><span class="comment">#set subplot data</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">8</span>,<span class="number">4</span>))</span><br><span class="line">ax2 = ax.twinx() <span class="comment">#set ax2 on same x axis as ax</span></span><br><span class="line">ax3 = ax.twinx() <span class="comment">#same as above, for hline</span></span><br><span class="line">width = <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#barplots </span></span><br><span class="line">ax.bar(x=condition_score, height=condition_median, width=width,</span><br><span class="line">       label=<span class="string">&quot;Median Price&quot;</span>, color=<span class="string">&quot;midnightblue&quot;</span>, alpha=<span class="number">0.8</span>)</span><br><span class="line">ax2.bar(x=condition_score, height=condition_mean, width=width,</span><br><span class="line">        label=<span class="string">&quot;Mean Price&quot;</span>, color=<span class="string">&quot;royalblue&quot;</span>, alpha=<span class="number">0.8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#horizontal line for mean price</span></span><br><span class="line">ax3.hlines(kc_mean_price, <span class="number">.7</span> ,<span class="number">5.3</span>, colors=<span class="string">&quot;red&quot;</span>, label=<span class="string">&quot;Average Price&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#set ylimit to the same scale and display only 1</span></span><br><span class="line">ax.set_ylim(<span class="number">0</span>,<span class="number">1.2</span>*condition_mean.<span class="built_in">max</span>())</span><br><span class="line">ax2.set_ylim(<span class="number">0</span>,<span class="number">1.2</span>*condition_mean.<span class="built_in">max</span>())</span><br><span class="line">ax3.set_ylim(<span class="number">0</span>,<span class="number">1.2</span>*condition_mean.<span class="built_in">max</span>())</span><br><span class="line">ax2.yaxis.set_visible(<span class="literal">False</span>) <span class="comment">#hide the 2nd axis</span></span><br><span class="line">ax3.yaxis.set_visible(<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#set legend positions</span></span><br><span class="line">ax.legend(bbox_to_anchor=(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>), loc=<span class="string">&quot;upper left&quot;</span>)</span><br><span class="line">ax2.legend(bbox_to_anchor=(<span class="number">0</span>,-<span class="number">.1</span>,<span class="number">1</span>,<span class="number">1</span>), loc=<span class="string">&quot;upper left&quot;</span>)</span><br><span class="line">ax3.legend(bbox_to_anchor=(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>), loc=<span class="string">&quot;upper right&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#prettify graph</span></span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Average Prices ($)&quot;</span>, size=<span class="number">14</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Condition Score&quot;</span>, size=<span class="number">14</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Average Property Value per Condition&quot;</span>, size=<span class="number">16</span>, y=<span class="number">1.08</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#uncomment line below to export image</span></span><br><span class="line"><span class="comment"># plt.savefig(&quot;images/condition_value.png&quot;,bbox_inches = &quot;tight&quot;)</span></span><br><span class="line">plt.legend()</span><br><span class="line">plt.show();</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºå›¾ç‰‡å¦‚ä¸‹ï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041144369.png" alt="image.png"></p>
<p><strong>ç‰©ä¸šæ¡ä»¶ç»Ÿè®¡åˆ†æ</strong><br>ğ›¼  &#x3D; 0.05<br>Null-Hypothesisï¼šä¸åŒæ¡ä»¶ä¸‹çš„å¹³å‡è´¢äº§ä»·å€¼æ²¡æœ‰æ˜¾è‘—å·®å¼‚ã€‚<br>Alternative Hypothesisï¼šä¸åŒæ¡ä»¶ä¸‹çš„å¹³å‡è´¢äº§ä»·å€¼æœ‰æ˜¾è‘—å·®å¼‚ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">alpha = <span class="number">0.05</span> </span><br><span class="line"><span class="comment">#ANOVA Test Setup</span></span><br><span class="line">formula = <span class="string">&#x27;price~C(condition)&#x27;</span></span><br><span class="line">lm_condition = smf.ols(formula, kc_df).fit()</span><br><span class="line">anova_condition = sm.stats.anova_lm(lm_condition, typ=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> anova_condition[<span class="string">&quot;PR(&gt;F)&quot;</span>][<span class="number">0</span>] &lt; alpha:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The property condition have a statistically significant impact on average property value&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Conditions F-statisic Probability: &quot;</span>, anova_condition[<span class="string">&quot;PR(&gt;F)&quot;</span>][<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºå¦‚ä¸‹ï¼š<code>The property condition have a statistically significant impact on average property value Conditions F-statisic Probability: 6.813536869407728e-24</code></p>
<p><strong>ç»“è®ºï¼š</strong><br>æˆ¿äº§æ¡ä»¶å¯¹æˆ¿åœ°äº§çš„ä»·æ ¼æœ‰é‡å¤§å½±å“ã€‚éšç€æƒ…å†µçš„æ¶åŒ–ï¼Œå¹³å‡æˆ¿ä»·å’Œä¸­å€¼æˆ¿ä»·éƒ½å‘ˆä¸Šå‡è¶‹åŠ¿ã€‚</p>
<h4 id="2-5æˆ¿äº§çš„ç‰¹ç‚¹å’Œå‡çº§ï¼ˆå“ªäº›åŠŸèƒ½ä¸ºæˆ¿å­å¢å€¼ï¼‰"><a href="#2-5æˆ¿äº§çš„ç‰¹ç‚¹å’Œå‡çº§ï¼ˆå“ªäº›åŠŸèƒ½ä¸ºæˆ¿å­å¢å€¼ï¼‰" class="headerlink" title="2.5æˆ¿äº§çš„ç‰¹ç‚¹å’Œå‡çº§ï¼ˆå“ªäº›åŠŸèƒ½ä¸ºæˆ¿å­å¢å€¼ï¼‰"></a>2.5æˆ¿äº§çš„ç‰¹ç‚¹å’Œå‡çº§ï¼ˆå“ªäº›åŠŸèƒ½ä¸ºæˆ¿å­å¢å€¼ï¼‰</h4><p>æœ¬éƒ¨åˆ†å°†å¯¹æœ‰&#x3D;&#x3D;åœ°ä¸‹å®¤çš„æˆ¿å­ä¼šä¸ºæˆ¿äº§å¢å€¼å—ï¼Ÿ&#x3D;&#x3D;ä»¥åŠ&#x3D;&#x3D;ç¿»æ–°æ˜¯å¦ä¼šå¢åŠ æˆ¿äº§çš„ä»·å€¼ï¼Ÿ&#x3D;&#x3D;ä¸¤ä¸ªé—®é¢˜è¿›è¡Œåˆ†æã€‚<br>é€šè¿‡å°†æ•°æ®é›†åˆ†ç±»æˆ[æœ‰åœ°ä¸‹å®¤ï¼Œæ— åœ°ä¸‹å®¤]ä»¥åŠ[ç¿»æ–°ã€æœªç¿»æ–°]ç»§ç»­å¹³å‡æˆ¿ä»·çš„æŸ±çŠ¶å›¾ç»˜åˆ¶ï¼Œæ¥ç›´è§‚å¾—å‡ºä¸Šè¿°é—®é¢˜çš„ç­”æ¡ˆã€‚<br>ä»¥ä¸‹æ˜¯å…·ä½“å®ç°ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#--------------------------Property Feature Calculation---------------------------------------#</span></span><br><span class="line">basement = kc_df[(kc_df[<span class="string">&quot;sqft_basement&quot;</span>] &gt; <span class="number">0</span>)]</span><br><span class="line">basement_mean = basement.price.mean()</span><br><span class="line">no_basement = kc_df[(kc_df[<span class="string">&quot;sqft_basement&quot;</span>] == <span class="number">0</span>)]</span><br><span class="line">no_basement_mean = no_basement.price.mean()</span><br><span class="line"></span><br><span class="line"><span class="comment">#mean values to plot</span></span><br><span class="line">renovated = kc_df[(kc_df[<span class="string">&quot;yr_renovated&quot;</span>] &gt; <span class="number">0</span>)]</span><br><span class="line">renovated_mean = renovated.price.mean()</span><br><span class="line">not_renovated = kc_df[(kc_df[<span class="string">&quot;yr_renovated&quot;</span>] == <span class="number">0</span>)]</span><br><span class="line">not_renovated_mean = not_renovated.price.mean()</span><br><span class="line"></span><br><span class="line"><span class="comment">#prepare plot labels</span></span><br><span class="line">label_basement = [<span class="string">&quot;Basement&quot;</span>, <span class="string">&quot;No basement&quot;</span>]</span><br><span class="line">values_basement = [basement_mean, no_basement_mean]</span><br><span class="line">label_renovation = [<span class="string">&quot;Renovated&quot;</span>, <span class="string">&quot;No Renovation&quot;</span>]</span><br><span class="line">values_renovation = [renovated_mean, not_renovated_mean]</span><br><span class="line"></span><br><span class="line"><span class="comment">#--------------------------Bar Plots--------------------------------------#</span></span><br><span class="line">fig, ax = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize=(<span class="number">14</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">sns.barplot(ax=ax[<span class="number">0</span>], x=label_basement, y=values_basement, palette=<span class="string">&quot;Blues_r&quot;</span>)</span><br><span class="line">sns.barplot(ax=ax[<span class="number">1</span>], x=label_renovation, y=values_renovation, palette=<span class="string">&quot;Blues_r&quot;</span>)</span><br><span class="line">ax[<span class="number">0</span>].hlines(kc_mean_price, -<span class="number">.5</span> ,<span class="number">1.5</span>, colors=<span class="string">&quot;coral&quot;</span>, label=<span class="string">&quot;Average Price&quot;</span>) <span class="comment">#plot average price horizontal line</span></span><br><span class="line">ax[<span class="number">1</span>].hlines(kc_mean_price, -<span class="number">.5</span> ,<span class="number">1.5</span>, colors=<span class="string">&quot;coral&quot;</span>, label=<span class="string">&quot;Average Price&quot;</span>) <span class="comment">#plot average price horizontal line</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#prettify graph</span></span><br><span class="line">ax[<span class="number">0</span>].set_ylabel(<span class="string">&quot;Average Prices ($)&quot;</span>, size=<span class="number">12</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&quot;Average Property Value&quot;</span>, size=<span class="number">14</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_ylim(<span class="number">0</span>,<span class="number">1.1</span>*renovated_mean)</span><br><span class="line">ax[<span class="number">0</span>].legend()</span><br><span class="line"></span><br><span class="line">ax[<span class="number">1</span>].set_ylabel(<span class="string">&quot;Average Prices ($)&quot;</span>, size=<span class="number">12</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&quot;Average Property Value&quot;</span>, size=<span class="number">14</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_ylim(<span class="number">0</span>,<span class="number">1.1</span>*renovated_mean)</span><br><span class="line">ax[<span class="number">1</span>].legend()</span><br><span class="line"></span><br><span class="line">plt.suptitle(<span class="string">&quot;Affect of Basement and Renovation on Property Value&quot;</span>, size=<span class="number">16</span>, y=<span class="number">1.02</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#uncomment below to export image</span></span><br><span class="line"><span class="comment"># plt.savefig(&quot;images/basement_renovation_value.png&quot;,bbox_inches = &quot;tight&quot;)</span></span><br><span class="line">plt.show();</span><br></pre></td></tr></table></figure>
<p>ç»“æœå›¾ï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041154631.png" alt="image.png"></p>
<p><strong>æˆ¿äº§ç‰¹å¾ç»Ÿè®¡åˆ†æ</strong><br>$\alpha$&#x3D;0.05<br><strong>åœ°ä¸‹å®¤</strong><br>Null-Hypothesisï¼šæœ‰åœ°ä¸‹å®¤å’Œæ²¡æœ‰åœ°ä¸‹å®¤çš„æˆ¿äº§ä¹‹é—´çš„å¹³å‡æˆ¿äº§ä»·å€¼æ²¡æœ‰æ˜¾è‘—å·®å¼‚<br>Alternative Hypothesisï¼šæœ‰æˆ–æ²¡æœ‰åœ°ä¸‹å®¤çš„æˆ¿äº§çš„å¹³å‡æˆ¿äº§ä»·å€¼æœ‰æ˜¾è‘—å·®å¼‚ã€‚</p>
<p><strong>ç¿»æ–°</strong><br>Null-Hypothesisï¼šç¿»æ–°æˆ–æœªç¿»æ–°çš„æˆ¿äº§çš„å¹³å‡æˆ¿äº§ä»·å€¼æ²¡æœ‰æ˜¾è‘—å·®å¼‚ã€‚<br>Alternative Hypothesisï¼šç¿»æ–°æˆ–æœªç¿»æ–°çš„æˆ¿äº§ä¹‹é—´çš„å¹³å‡æˆ¿äº§ä»·å€¼æœ‰æ˜¾è‘—å·®å¼‚ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">alpha = <span class="number">0.05</span></span><br><span class="line">basement_p_val = stats.ttest_ind(basement.price, no_basement.price, equal_var=<span class="literal">False</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Basement vs No Basement T-test P Value: &quot;</span>, basement_p_val)</span><br><span class="line"><span class="keyword">if</span> basement_p_val &lt; alpha:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The P value is less than alpha, reject null-hypothesis&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>) <span class="comment">#white space for formatting output</span></span><br><span class="line"></span><br><span class="line">renovation_p_val = stats.ttest_ind(renovated.price, not_renovated.price, equal_var=<span class="literal">False</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Renovated vs Not Renovated T-test P Value: &quot;</span>, renovation_p_val)</span><br><span class="line"><span class="keyword">if</span> renovation_p_val &lt; alpha:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The P value is less than alpha, reject null-hypothesis&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºå¦‚ä¸‹ï¼š<br><code>Basement vs No Basement T-test P Value: 1.935598808013724e-102 The P value is less than alpha, reject null-hypothesis Renovated vs Not Renovated T-test P Value: 6.478917377975333e-20 The P value is less than alpha, reject null-hypothesis</code></p>
<p><strong>ç»“è®ºï¼š</strong><br>åœ°ä¸‹å®¤å’Œç¿»æ–°éƒ½ä¸ºæˆ¿äº§å¢åŠ äº†æ˜¾è‘—çš„ä»·å€¼ï¼Œç¿»æ–°å¯¹æˆ¿äº§ä»·å€¼çš„å¹³å‡å½±å“æ›´å¤§ã€‚</p>
<h4 id="2-6æ¢ç´¢æ€§æ•°æ®åˆ†ææ€»ç»“"><a href="#2-6æ¢ç´¢æ€§æ•°æ®åˆ†ææ€»ç»“" class="headerlink" title="2.6æ¢ç´¢æ€§æ•°æ®åˆ†ææ€»ç»“"></a>2.6æ¢ç´¢æ€§æ•°æ®åˆ†ææ€»ç»“</h4><ol>
<li>å“ªä¸ªè¡—åŒºæ‹¥æœ‰æœ€æœ‰ä»·å€¼çš„æˆ¿äº§ï¼Ÿ<br>-é‡‘å¿çš„éº¦åœ°é‚£ã€è´å°”éŸ¦ã€é»˜ç‘Ÿå²›ã€éº¦è¿ªé€Šå…¬å›­å’Œå›½ä¼šå±±ç¤¾åŒºçš„å¹³å‡æˆ¿åœ°äº§ä»·å€¼æœ€é«˜ã€‚è¿™äº›åœ°åŒºçš„æˆ¿åœ°äº§ä»·å€¼ä¸é‡‘å¿çš„å¹³å‡æˆ¿åœ°äº§ä»·å€¼åœ¨ç»Ÿè®¡ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚</li>
<li>æˆ¿äº§çŠ¶å†µæ˜¯å¦ä¼šå½±å“ä»·å€¼ï¼Ÿ<br>-æˆ¿åœ°äº§æ¡ä»¶å¯¹æˆ¿åœ°äº§ä»·å€¼æœ‰ç»Ÿè®¡å­¦ä¸Šçš„æ˜¾è‘—å½±å“ã€‚ç„¶è€Œï¼Œæ¡ä»¶4&#x2F;5çš„å¹³å‡å€¼å°äºæ¡ä»¶3&#x2F;5çš„å¹³å‡å€¼ã€‚è¿™å¯èƒ½æ˜¯ç”±äºå…¶ä»–å› ç´ é€ æˆçš„ï¼Œå¦‚å…¬å¯“&#x2F;åˆä½œå…¬å¯“ï¼Œå…¶æ¯æ ‹æˆ¿äº§çš„ä»·æ ¼å¯èƒ½è¾ƒä½ï¼Œä½†å¾€å¾€æ¯”ç§äººä½å®…ç»´æŠ¤å¾—æ›´å¥½ã€‚</li>
<li>å“ªäº›åŠŸèƒ½ä¸ºæˆ¿å­å¢å€¼ï¼Ÿ<br>-ç¿»æ–°åçš„æˆ¿äº§æ¯”æœªç¿»æ–°çš„æˆ¿äº§å…·æœ‰æ›´é«˜çš„ä»·å€¼ã€‚<br>-åŸºå‡†é¢ä¸ºç‰¹æ€§æ·»åŠ äº†é‡è¦çš„å€¼ã€‚</li>
</ol>
<h3 id="3-ç‰¹å¾å·¥ç¨‹ï¼ˆFeature-Engineeringï¼‰"><a href="#3-ç‰¹å¾å·¥ç¨‹ï¼ˆFeature-Engineeringï¼‰" class="headerlink" title="3.ç‰¹å¾å·¥ç¨‹ï¼ˆFeature Engineeringï¼‰"></a>3.ç‰¹å¾å·¥ç¨‹ï¼ˆFeature Engineeringï¼‰</h3><p>Feature Engineeringï¼ˆç‰¹å¾å·¥ç¨‹ï¼‰æ˜¯æŒ‡åœ¨æœºå™¨å­¦ä¹ ä¸­å¯¹åŸå§‹æ•°æ®ä¸­çš„å±æ€§è¿›è¡Œæå–ã€è½¬æ¢ã€é€‰æ‹©å’Œåˆ›å»ºæ–°ç‰¹å¾çš„è¿‡ç¨‹ã€‚å®ƒæ˜¯æœºå™¨å­¦ä¹ ä¸­è‡³å…³é‡è¦çš„ä¸€æ­¥ï¼Œå¯ä»¥æ˜¾è‘—å½±å“æ¨¡å‹çš„æ€§èƒ½å’Œå‡†ç¡®åº¦ã€‚</p>
<p>åœ¨ç‰¹å¾å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹åŸå§‹æ•°æ®è¿›è¡Œå¤„ç†å’Œè½¬æ¢ï¼Œæå–å‡ºæ›´å…·ä¿¡æ¯é‡å’Œè¡¨è¾¾èƒ½åŠ›çš„ç‰¹å¾ï¼Œä»¥ä¾¿æ›´å¥½åœ°æè¿°æ•°æ®çš„ç‰¹æ€§å’Œæ¨¡å¼ã€‚è¿™å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼å®ç°ï¼š</p>
<ol>
<li><p><strong>ç‰¹å¾æå–ï¼ˆFeature Extractionï¼‰</strong>ï¼šä»åŸå§‹æ•°æ®ä¸­æå–æœ‰ç”¨çš„ç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œä»æ–‡æœ¬æ•°æ®ä¸­æå–è¯è¢‹æ¨¡å‹ã€TF-IDFå€¼æˆ–è¯åµŒå…¥å‘é‡ä½œä¸ºç‰¹å¾ï¼›ä»å›¾åƒæ•°æ®ä¸­æå–è¾¹ç¼˜ã€çº¹ç†æˆ–é¢œè‰²ç›´æ–¹å›¾ä½œä¸ºç‰¹å¾ã€‚</p>
</li>
<li><p><strong>ç‰¹å¾è½¬æ¢ï¼ˆFeature Transformationï¼‰</strong>ï¼šå¯¹åŸå§‹ç‰¹å¾è¿›è¡Œè½¬æ¢æˆ–é™ç»´ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰å°†é«˜ç»´æ•°æ®è½¬æ¢ä¸ºä½ç»´è¡¨ç¤ºï¼›ä½¿ç”¨å¤šé¡¹å¼ç‰¹å¾è½¬æ¢å°†åŸå§‹ç‰¹å¾è½¬åŒ–ä¸ºæ›´é«˜é˜¶çš„å¤šé¡¹å¼ç‰¹å¾ã€‚</p>
</li>
<li><p><strong>ç‰¹å¾é€‰æ‹©ï¼ˆFeature Selectionï¼‰</strong>ï¼šé€‰æ‹©å¯¹ç›®æ ‡å˜é‡é¢„æµ‹æœ‰é‡è¦å½±å“çš„ç‰¹å¾ï¼Œå‰”é™¤å¯¹æ¨¡å‹æ— å…³çš„ç‰¹å¾ã€‚è¿™å¯ä»¥é€šè¿‡ç»Ÿè®¡æ–¹æ³•ï¼ˆå¦‚æ–¹å·®é˜ˆå€¼ã€ç›¸å…³ç³»æ•°ç­‰ï¼‰æˆ–åŸºäºæ¨¡å‹çš„æ–¹æ³•ï¼ˆå¦‚L1æ­£åˆ™åŒ–ã€å†³ç­–æ ‘ç‰¹å¾é‡è¦æ€§ç­‰ï¼‰æ¥å®ç°ã€‚</p>
</li>
<li><p><strong>ç‰¹å¾åˆ›é€ ï¼ˆFeature Creationï¼‰</strong>ï¼šé€šè¿‡ç»„åˆã€è¡ç”Ÿæˆ–ç”Ÿæˆæ–°çš„ç‰¹å¾æ¥å¢å¼ºåŸå§‹ç‰¹å¾çš„è¡¨è¾¾èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼Œå°†æ—¶é—´æ•°æ®åˆ†è§£ä¸ºå¹´ã€æœˆã€æ—¥ç­‰ç»„æˆéƒ¨åˆ†ï¼›é€šè¿‡æ•°å€¼é—´çš„è®¡ç®—ï¼ˆå¦‚å·®å€¼ã€æ¯”å€¼ï¼‰æ¥åˆ›å»ºæ–°çš„ç‰¹å¾ã€‚</p>
</li>
</ol>
<p>é€šè¿‡ç²¾å¿ƒè¿›è¡Œç‰¹å¾å·¥ç¨‹ï¼Œå¯ä»¥ä½¿æ¨¡å‹æ›´å¥½åœ°æ•æ‰æ•°æ®ä¸­çš„æ¨¡å¼å’Œè§„å¾‹ï¼Œæé«˜æ¨¡å‹çš„å‡†ç¡®æ€§ã€é²æ£’æ€§å’Œæ³›åŒ–èƒ½åŠ›ã€‚å› æ­¤ï¼Œç‰¹å¾å·¥ç¨‹æ˜¯æœºå™¨å­¦ä¹ ä¸­éå¸¸é‡è¦å’Œå¸¸ç”¨çš„æŠ€æœ¯ä¹‹ä¸€ã€‚</p>
<h4 id="åŠŸèƒ½æ£€æŸ¥"><a href="#åŠŸèƒ½æ£€æŸ¥" class="headerlink" title="åŠŸèƒ½æ£€æŸ¥"></a>åŠŸèƒ½æ£€æŸ¥</h4><p>åœ¨è¿›è¡Œå·¥ç¨‹è®¾è®¡ä¹‹å‰ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½åº”è¯¥æ˜¯æµ®ç‚¹æˆ–æ•´æ•°ã€‚åœ¨æ·»åŠ åˆ°Sklearnçº¿æ€§å›å½’è®­ç»ƒä¹‹å‰ï¼Œæ—¥æœŸã€idå’Œä»·æ ¼åˆ—å°†è¢«åˆ é™¤ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kc_df.head()</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041235197.png" alt="image.png"></p>
<h4 id="ç¿»æ–°"><a href="#ç¿»æ–°" class="headerlink" title="ç¿»æ–°"></a>ç¿»æ–°</h4><p>ç”±äºç¿»æ–°å¯¹ç‰©ä¸šä»·å€¼æœ‰é‡å¤§å½±å“ï¼Œå› æ­¤å¯ä»¥å°†æ­¤åŠŸèƒ½æ›´æ–°ä¸ºåˆ†ç±»åŠŸèƒ½</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kc_df[<span class="string">&quot;renovated&quot;</span>] = kc_df.yr_renovated.apply(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h4 id="ç¿»æ–°å¹´é™"><a href="#ç¿»æ–°å¹´é™" class="headerlink" title="ç¿»æ–°å¹´é™"></a>ç¿»æ–°å¹´é™</h4><p>ç¿»æ–°ä»·å€¼å¯èƒ½ä¼šéšç€å¹´é™è€Œè´¬å€¼ï¼Œå› æ­¤æ­¤åŠŸèƒ½å¯èƒ½ä¼šæä¾›è´Ÿç›¸å…³åŠŸèƒ½</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kc_df[<span class="string">&quot;renovation_age&quot;</span>] = kc_df.yr_renovated.apply(<span class="keyword">lambda</span> x: <span class="number">2020</span>-x <span class="keyword">if</span> x &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h4 id="åœ°ä¸‹å®¤"><a href="#åœ°ä¸‹å®¤" class="headerlink" title="åœ°ä¸‹å®¤"></a>åœ°ä¸‹å®¤</h4><p>åˆ›å»ºâ€Basementâ€ç‰¹å¾ä¸è¿›è¡Œè£…ä¿®ç±»ä¼¼ã€‚ç”±äºæ‹¥æœ‰åœ°ä¸‹å®¤å¯ä»¥è‡ªåŠ¨å¢åŠ æˆ¿äº§çš„ä»·å€¼ï¼Œå› æ­¤å°†å…¶ä½œä¸ºäºŒå…ƒåˆ†ç±»ç‰¹å¾å¯ä»¥æ›´å¥½åœ°å¼•å¯¼æ¨¡å‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kc_df[<span class="string">&quot;basement&quot;</span>] = kc_df.sqft_basement.apply(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x != <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h4 id="ä¸»æµ´å®¤"><a href="#ä¸»æµ´å®¤" class="headerlink" title="ä¸»æµ´å®¤"></a>ä¸»æµ´å®¤</h4><p>æ‹¥æœ‰2ä¸ªæˆ–æ›´å¤šæµ´å®¤çš„æˆ¿äº§å¾ˆå¯èƒ½åŒ…å«ä¸€ä¸ªä¸»å«ç”Ÿé—´ï¼Œè€Œå¯¹è®¸å¤šä¹°å®¶æ¥è¯´ï¼Œä¸»å«ç”Ÿé—´æ˜¯éå¸¸ç†æƒ³çš„ã€‚è™½ç„¶æ‹¥æœ‰2ä¸ªæµ´å®¤å¹¶ä¸ä¿è¯æˆ¿äº§æœ‰ä¸€ä¸ªä¸»å«ç”Ÿé—´ï¼Œä½†é‰´äºæµ´å®¤ä¸æˆ¿ä»·é«˜åº¦ç›¸å…³ä¸”ä¸å…¶ä»–ç‰¹å¾å­˜åœ¨å¤šé‡å…±çº¿æ€§ï¼Œå®ƒå¯èƒ½æ˜¯è¿›è¡Œç‰¹å¾å·¥ç¨‹çš„ä¸€ä¸ªå¥½çš„å€™é€‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kc_df[<span class="string">&quot;master_bathroom&quot;</span>] = kc_df.bathrooms.apply(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x &gt; <span class="number">2</span> <span class="keyword">else</span> <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h4 id="å®¶åº­ä½å®…"><a href="#å®¶åº­ä½å®…" class="headerlink" title="å®¶åº­ä½å®…"></a>å®¶åº­ä½å®…</h4><p>â€œFamily Houseâ€ç‰¹å¾çš„åˆ›å»ºä¸ä¸Šé¢çš„â€Master Bathroomâ€ç‰¹å¾ç±»ä¼¼ï¼Œæ—¨åœ¨å¼•å¯¼æ¨¡å‹å°†æˆ¿äº§åŒºåˆ†ä¸ºå…¬å¯“å’Œç‹¬ç«‹æˆ¿å±‹ã€‚è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå®Œç¾çš„å®ç°ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªç®€å•çš„æ–¹å¼æ¥åŒºåˆ†å°å‹å…¬å¯“ï¼Œä¾‹å¦‚å·¥ä½œå®¤å¼å…¬å¯“ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kc_df[<span class="string">&quot;family_house&quot;</span>] = kc_df.bedrooms.apply(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x &gt; <span class="number">2</span> <span class="keyword">else</span> <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h4 id="é”€å”®å¹´ä»½å’Œé”€å”®å­£åº¦"><a href="#é”€å”®å¹´ä»½å’Œé”€å”®å­£åº¦" class="headerlink" title="é”€å”®å¹´ä»½å’Œé”€å”®å­£åº¦"></a>é”€å”®å¹´ä»½å’Œé”€å”®å­£åº¦</h4><p>â€œSold Yearâ€å’Œâ€Sold Quarterâ€ç‰¹å¾çš„åˆ›å»ºæ˜¯åŸºäºåŸå§‹æ—¥æœŸåˆ—çš„å¤„ç†ã€‚ç”±äºæ—¥æœŸåˆ—çš„æ•°æ®ç±»å‹ä¸ºå­—ç¬¦ä¸²ï¼Œä¸ºäº†å°†å…¶å¤„ç†ä¸ºæ•´æ•°ç±»å‹ï¼Œå°†å…¶æ‹†åˆ†ä¸ºå¹´ä»½å’Œå¹´åº¦å­£åº¦ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kc_df[<span class="string">&quot;sale_year&quot;</span>] = kc_df.date.apply(<span class="keyword">lambda</span> x: <span class="built_in">int</span>(x[:<span class="number">4</span>])) <span class="comment">#convert first 4 character, year, into int</span></span><br><span class="line">kc_df[<span class="string">&quot;sale_quarter&quot;</span>] = kc_df.date.apply(<span class="keyword">lambda</span> x: <span class="built_in">int</span>(x[<span class="number">4</span>:<span class="number">6</span>])//<span class="number">3.1</span> + <span class="number">1</span>) <span class="comment">#fancy math convert month, 4-5 index, to quarters in int</span></span><br></pre></td></tr></table></figure>

<h4 id="é‚®æ”¿ç¼–ç ä¼ªå˜é‡"><a href="#é‚®æ”¿ç¼–ç ä¼ªå˜é‡" class="headerlink" title="é‚®æ”¿ç¼–ç ä¼ªå˜é‡"></a>é‚®æ”¿ç¼–ç ä¼ªå˜é‡</h4><p>â€œZipcode Dummy Variablesâ€æ˜¯æŒ‡å°†é‚®æ”¿ç¼–ç ä½œä¸ºè™šæ‹Ÿå˜é‡æ¥è¡¨ç¤ºã€‚ç”±äºé‚®æ”¿ç¼–ç ä¸æ˜¯ä¸€ç§æœ‰åºå€¼ï¼Œå°†å…¶ä½œä¸ºè™šæ‹Ÿå˜é‡å¯ä»¥æ›´å¥½åœ°è¡¨ç¤ºå…¶åœ¨æ¨¡å‹ä¸­çš„å½±å“ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ziplist = pd.Series(kc_df[<span class="string">&quot;zipcode&quot;</span>]) <span class="comment">#make dummy columns</span></span><br><span class="line">kc_df = kc_df.merge(pd.get_dummies(ziplist), left_index=<span class="literal">True</span>, right_index=<span class="literal">True</span>) <span class="comment">#merge dummy columns</span></span><br></pre></td></tr></table></figure>

<h4 id="æ–¹å½¢å§å®¤å’Œæµ´å®¤ã€‚"><a href="#æ–¹å½¢å§å®¤å’Œæµ´å®¤ã€‚" class="headerlink" title="æ–¹å½¢å§å®¤å’Œæµ´å®¤ã€‚"></a>æ–¹å½¢å§å®¤å’Œæµ´å®¤ã€‚</h4><p>â€œSquared Bedroomsâ€å’Œâ€Squared Bathroomsâ€ç‰¹å¾çš„åˆ›å»ºæ˜¯ä¸ºäº†å¢å¼ºå®ƒä»¬ä¸ä»·æ ¼ä¹‹é—´çš„ç›¸å…³æ€§ã€‚ç”±äºå§å®¤æ•°é‡å’Œæµ´å®¤æ•°é‡ä¸æˆ¿ä»·é«˜åº¦ç›¸å…³ï¼Œé€šè¿‡å¯¹å®ƒä»¬çš„å€¼è¿›è¡Œå¹³æ–¹æ“ä½œï¼Œå¯ä»¥å¢åŠ å®ƒä»¬åœ¨çº¿æ€§æ¨¡å‹ä¸­çš„å½±å“åŠ›ã€‚è¿™å°†å‡å°‘0å’Œ1å¯¹çº¿æ€§æ¨¡å‹çš„å½±å“ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kc_df[<span class="string">&quot;bedroom_squared&quot;</span>] = kc_df[<span class="string">&quot;bedrooms&quot;</span>] ** <span class="number">2</span></span><br><span class="line">kc_df[<span class="string">&quot;bathroom_squared&quot;</span>] = kc_df[<span class="string">&quot;bathrooms&quot;</span>] ** <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="4-çº¿æ€§å›å½’æ¨¡å‹é€‰æ‹©"><a href="#4-çº¿æ€§å›å½’æ¨¡å‹é€‰æ‹©" class="headerlink" title="4.çº¿æ€§å›å½’æ¨¡å‹é€‰æ‹©"></a>4.çº¿æ€§å›å½’æ¨¡å‹é€‰æ‹©</h3><h4 id="4-1è®­ç»ƒä»¥åŠæµ‹è¯•æ•°æ®é›†"><a href="#4-1è®­ç»ƒä»¥åŠæµ‹è¯•æ•°æ®é›†" class="headerlink" title="4.1è®­ç»ƒä»¥åŠæµ‹è¯•æ•°æ®é›†"></a>4.1è®­ç»ƒä»¥åŠæµ‹è¯•æ•°æ®é›†</h4><p><strong>æ¦‚è¿°ï¼š</strong><br>åœ¨è¯¥æ­¥éª¤ä¸­å‡†å¤‡è®­ç»ƒé›†ä»¥åŠæµ‹è¯•é›†ï¼Œå°†åŸå§‹æ•°æ®é›†åˆ’åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œå¹¶ç¡®ä¿ä¸¤è€…ä¹‹é—´çš„æ•°æ®æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€æ²¡æœ‰é‡å çš„ã€‚<br>å…·ä½“ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">features = [col <span class="keyword">for</span> col <span class="keyword">in</span> kc_df.columns <span class="keyword">if</span> col <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;date&quot;</span>, <span class="string">&quot;price&quot;</span>] ] <span class="comment">#remove id, date, and price column from features</span></span><br><span class="line">lr_kc_df = kc_df[features] <span class="comment">#set train/test data using feature above</span></span><br><span class="line">model_target = kc_df[<span class="string">&quot;price&quot;</span>] <span class="comment">#target column is the price column</span></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(lr_kc_df, model_target ,test_size=<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>

<h4 id="4-2å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹"><a href="#4-2å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹" class="headerlink" title="4.2å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹"></a>4.2å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹</h4><p><strong>æ¦‚è¿°ï¼š</strong><br>è¯¥æ¨¡å‹å°†ä½œä¸ºæ‰€æœ‰å…¶ä»–æ¨¡å‹çš„åŸºçº¿æ¯”è¾ƒã€‚è¯¥æ¨¡å‹åˆ©ç”¨äº†ä¸€äº›åŸºæœ¬ç‰¹å¾å’Œç»è¿‡ç‰¹å¾å·¥ç¨‹å¤„ç†çš„ç‰¹å¾ã€‚è°ƒæ•´åçš„R-squaredå€¼ä¸º0.738ï¼Œè¿™æ„å‘³ç€æ¨¡å‹å¯ä»¥è§£é‡Šå› å˜é‡çº¦73.8%çš„å˜å¼‚ç¨‹åº¦ã€‚è¾ƒé«˜çš„R-squaredå€¼è¡¨ç¤ºæ¨¡å‹å¯¹æ•°æ®çš„æ‹Ÿåˆè¾ƒå¥½ï¼Œä½†å¹¶ä¸ä»£è¡¨æ¨¡å‹ä¸€å®šæ˜¯æœ€ä½³æ¨¡å‹ï¼Œå› ä¸ºR-squaredæ— æ³•å‘Šè¯‰æˆ‘ä»¬å…³äºæ¨¡å‹ä¸­å…¶ä»–å› ç´ ã€‚</p>
<p><strong>ä»£ç è§£æï¼š</strong><br>ä½¿ç”¨statsmodelsåº“ä¸­çš„olså‡½æ•°æ¥æ‹Ÿåˆä¸€ä¸ªå¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹ï¼Œå¹¶è®¡ç®—æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šçš„é¢„æµ‹ç»“æœå’Œå‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰ã€‚<br>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªåŒ…å«å¤šä¸ªè‡ªå˜é‡çš„å›å½’æ¨¡å‹ï¼Œå…¶ä¸­è‡ªå˜é‡åŒ…æ‹¬â€™sqft_livingâ€™ï¼ˆå±…ä½é¢ç§¯ï¼‰ã€â€™C(zipcode)â€™ï¼ˆé‚®æ”¿ç¼–ç ï¼Œä½¿ç”¨äº†è™šæ‹Ÿå˜é‡è¡¨ç¤ºï¼‰ã€â€™conditionâ€™ï¼ˆæˆ¿å±‹æ¡ä»¶ï¼‰ã€â€™renovation_ageâ€™ï¼ˆç¿»æ–°å¹´é¾„ï¼‰ã€â€™sale_yearâ€™ï¼ˆå”®å‡ºå¹´ä»½ï¼Œä½¿ç”¨äº†è™šæ‹Ÿå˜é‡è¡¨ç¤ºï¼‰ã€â€™C(sale_quarter)â€™ï¼ˆé”€å”®å­£åº¦ï¼Œä½¿ç”¨äº†è™šæ‹Ÿå˜é‡è¡¨ç¤ºï¼‰ã€â€™C(basement)â€™ï¼ˆåœ°ä¸‹å®¤ï¼Œä½¿ç”¨äº†è™šæ‹Ÿå˜é‡è¡¨ç¤ºï¼‰ã€â€™bedroom_squaredâ€™ï¼ˆå§å®¤æ•°é‡çš„å¹³æ–¹ï¼‰å’Œâ€™bathroom_squaredâ€™ï¼ˆæµ´å®¤æ•°é‡çš„å¹³æ–¹ï¼‰ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨è¿™ä¸ªæ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¿›è¡Œé¢„æµ‹ï¼Œå¹¶è®¡ç®—äº†é¢„æµ‹ç»“æœä¸å®é™…å€¼ä¹‹é—´çš„å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰ã€‚</p>
<p>æœ€åè°ƒç”¨kc_ols.summary()æ¥è·å–æ¨¡å‹çš„è¯¦ç»†ç»Ÿè®¡ç»“æœã€‚è¯¥æ–¹æ³•ä¼šè¾“å‡ºæ¨¡å‹çš„æ‘˜è¦ä¿¡æ¯ï¼ŒåŒ…æ‹¬å›å½’ç³»æ•°ã€æ ‡å‡†è¯¯å·®ã€tç»Ÿè®¡é‡ã€på€¼ç­‰ã€‚é€šè¿‡æŸ¥çœ‹è¿™äº›ç»Ÿè®¡ç»“æœï¼Œä»¥æ­¤äº†è§£æ¨¡å‹çš„æ‹Ÿåˆæ•ˆæœã€å„ä¸ªè‡ªå˜é‡çš„æ˜¾è‘—æ€§ä»¥åŠæ¨¡å‹çš„è§£é‡Šèƒ½åŠ›ç­‰ä¿¡æ¯ã€‚</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">eq = <span class="string">&quot;price~sqft_living+C(zipcode)+condition+renovation_age+sale_year+C(sale_quarter)+C(basement)+bedroom_squared+bathroom_squared&quot;</span></span><br><span class="line">kc_ols = smf.ols(formula=eq, data=kc_df).fit()</span><br><span class="line"><span class="comment"># uncomment below for summary of the ols model</span></span><br><span class="line"><span class="comment"># print(kc_ols.summary())</span></span><br><span class="line">ols_result = kc_ols.predict(x_train)</span><br><span class="line">ols_rmse = np.sqrt(metrics.mean_squared_error(y_train, ols_result))</span><br><span class="line">kc_ols.summary()</span><br></pre></td></tr></table></figure>
<p>éƒ¨åˆ†è¾“å‡ºç»“æœï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041330432.png" alt="image.png"></p>
<h4 id="4-3Scikit-learnåº“ä¸­çš„çº¿æ€§å›å½’æ¨¡å‹"><a href="#4-3Scikit-learnåº“ä¸­çš„çº¿æ€§å›å½’æ¨¡å‹" class="headerlink" title="4.3Scikit-learnåº“ä¸­çš„çº¿æ€§å›å½’æ¨¡å‹"></a>4.3Scikit-learnåº“ä¸­çš„çº¿æ€§å›å½’æ¨¡å‹</h4><p><strong>æ¦‚è¿°ï¼š</strong><br>ä½¿ç”¨Scikit-learnåº“ä¸­çš„çº¿æ€§å›å½’æ¨¡å‹ï¼Œå¯ä»¥å»ºç«‹ä¸€ä¸ªåŸºæœ¬çš„çº¿æ€§å›å½’æ¨¡å‹ï¼Œä½¿ç”¨æ•°æ®é›†ä¸­çš„æ‰€æœ‰ç‰¹å¾è¿›è¡Œè®­ç»ƒå’Œé¢„æµ‹ã€‚</p>
<p><strong>ä»£ç è§£æï¼š</strong><br>é¦–å…ˆä½¿ç”¨Scikit-learnåº“ä¸­çš„LinearRegression()å‡½æ•°åˆ›å»ºä¸€ä¸ªçº¿æ€§å›å½’æ¨¡å‹lm_kcï¼Œå¹¶ä½¿ç”¨è®­ç»ƒæ•°æ®x_trainå’Œå¯¹åº”çš„ç›®æ ‡å˜é‡y_trainè¿›è¡Œäº†æ¨¡å‹çš„è®­ç»ƒã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹è®­ç»ƒæ•°æ®x_testè¿›è¡Œé¢„æµ‹ï¼Œå¾—åˆ°äº†é¢„æµ‹å€¼y_train_predictionã€‚</p>
<p>ç„¶åï¼Œé€šè¿‡è®¡ç®—å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰æ¥è¯„ä¼°æ¨¡å‹åœ¨æµ‹è¯•æ•°æ®ä¸Šçš„æ€§èƒ½ã€‚RMSEæ˜¯è¡¡é‡æ¨¡å‹é¢„æµ‹è¯¯å·®çš„æŒ‡æ ‡ï¼Œè¡¨ç¤ºé¢„æµ‹å€¼ä¸å®é™…å€¼ä¹‹é—´çš„å¹³å‡å·®å¼‚ã€‚</p>
<p>æœ€åï¼Œä½¿ç”¨list(zip(lr_kc_df.columns, lm_kc.coef_))è¿™ä¸€è¡Œä»£ç æ¥æŸ¥çœ‹æ¨¡å‹çš„ç³»æ•°ã€‚é€šè¿‡è¿™è¡Œä»£ç ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªç”±ç‰¹å¾åˆ—åå’Œå¯¹åº”çš„ç³»æ•°å€¼ç»„æˆçš„åˆ—è¡¨ï¼Œç”¨äºæŸ¥çœ‹æ¨¡å‹å¯¹å„ä¸ªç‰¹å¾çš„æƒé‡å½±å“ã€‚</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#fit model</span></span><br><span class="line">lm_kc = LinearRegression().fit(x_train, y_train)</span><br><span class="line"><span class="comment">#training data prediction</span></span><br><span class="line">y_train_prediction = lm_kc.predict(x_test)</span><br><span class="line"></span><br><span class="line"><span class="comment">#rmse</span></span><br><span class="line">train_rmse = np.sqrt(metrics.mean_squared_error(y_test, y_train_prediction))</span><br><span class="line"></span><br><span class="line"><span class="comment">#coeffeicient checking</span></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">zip</span>(lr_kc_df.columns,lm_kc.coef_))</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041337800.png" alt="image.png"><br><strong>æ€»ç»“ï¼š</strong><br>æ ¹æ®ä¸Šè¿°ä¿¡æ¯ï¼Œå¯ä»¥çœ‹å‡ºè¿™ä¸ªæ¨¡å‹åœ¨é¢„æµ‹ä¸­é«˜åº¦ä¾èµ–æˆ¿äº§çš„é‚®æ”¿ç¼–ç ï¼ŒåŒæ—¶å‡å°‘äº†å§å®¤æ•°é‡ã€æµ´å®¤æ•°é‡å’Œå±…ä½é¢ç§¯ç­‰æˆ¿äº§çš„å…¶ä»–æ–¹é¢å¯¹æˆ¿ä»·çš„å½±å“ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™ç§å½±å“æ•ˆæœå¯èƒ½éå¸¸æ˜æ˜¾ï¼Œå¯¼è‡´è¯¥æ¨¡å‹é¢„æµ‹å¤§å¤šæ•°æˆ¿äº§çš„ä»·æ ¼ä¸ºè´Ÿæ•°ã€‚</p>
<h4 id="4-4é€’å½’ç‰¹å¾æ¶ˆé™¤"><a href="#4-4é€’å½’ç‰¹å¾æ¶ˆé™¤" class="headerlink" title="4.4é€’å½’ç‰¹å¾æ¶ˆé™¤"></a>4.4é€’å½’ç‰¹å¾æ¶ˆé™¤</h4><p><strong>æ¦‚è¿°ï¼š</strong><br>ä½¿ç”¨é€’å½’ç‰¹å¾æ¶ˆé™¤ï¼ˆRecursive Feature Eliminationï¼‰æ–¹æ³•æ¥æ¶ˆé™¤ä¸å¿…è¦çš„ç‰¹å¾ã€‚é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œçº¿æ€§å›å½’æ¨¡å‹åœ¨æ¯ä¸€æ¬¡è¿­ä»£ä¸­ä¼šå‰”é™¤å¯¹æ¨¡å‹é¢„æµ‹æ€§èƒ½è´¡çŒ®è¾ƒå°çš„ç‰¹å¾ã€‚ç†è®ºä¸Šï¼Œè¿™ä¸ªæ–¹æ³•åº”è¯¥èƒ½å¤Ÿæä¾›æ›´å‡†ç¡®çš„æ¨¡å‹ã€‚</p>
<p><strong>ä»£ç è§£æï¼š</strong><br>ä½¿ç”¨é€’å½’ç‰¹å¾æ¶ˆé™¤ï¼ˆRFEï¼‰æ–¹æ³•æ¥å¯¹ç‰¹å¾è¿›è¡Œæ’åå’Œé€‰æ‹©ã€‚</p>
<p>é¦–å…ˆï¼Œä½¿ç”¨RFEå‡½æ•°åˆ›å»ºä¸€ä¸ªRFEå¯¹è±¡ï¼Œå…¶ä¸­æŒ‡å®šä¼°è®¡å™¨ï¼ˆestimatorï¼‰ä¸ºçº¿æ€§å›å½’æ¨¡å‹ï¼ˆLinearRegression()ï¼‰ï¼Œå¹¶è®¾ç½®æ­¥é•¿ï¼ˆstepï¼‰ä¸º1ã€‚ç„¶åï¼Œä½¿ç”¨x_trainå’Œy_trainä½œä¸ºè®­ç»ƒæ•°æ®æ¥æ‹ŸåˆRFEæ¨¡å‹ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œé€šè¿‡å°†ç‰¹å¾åç§°å’Œå¯¹åº”çš„ç‰¹å¾æ’åç»„æˆçš„æ•°æ®æ¡†ï¼ˆkc_rfe_rankingï¼‰æ‰“å°å‡ºæ¥ï¼Œå¯ä»¥å¯è§†åŒ–ç‰¹å¾çš„æ’åæƒ…å†µã€‚æ•°æ®æ¡†ä¸­çš„â€Model Featuresâ€åˆ—åŒ…å«ç‰¹å¾çš„åç§°ï¼Œâ€Feature Rankingâ€åˆ—åŒ…å«æ¯ä¸ªç‰¹å¾çš„æ’åã€‚</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">kc_rfe = RFE(estimator=LinearRegression(), step=<span class="number">1</span>)</span><br><span class="line">kc_rfe = kc_rfe.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Run this cell to visualize how the feature are ranked</span></span><br><span class="line">kc_rfe_ranking = pd.DataFrame(&#123;<span class="string">&quot;Model Features&quot;</span>:x_train.columns, <span class="string">&quot;Feature Ranking&quot;</span>:kc_rfe.ranking_&#125;)</span><br><span class="line">rank_check = kc_rfe_ranking.sort_values(by=<span class="string">&quot;Feature Ranking&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(rank_check)</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041344623.png" alt="image.png"></p>
<p><strong>ä»£ç è§£æï¼š</strong><br>é¦–å…ˆä½¿ç”¨RFEå¯¹è±¡çš„transformæ–¹æ³•å°†è®­ç»ƒæ•°æ®x_trainè¿›è¡Œç‰¹å¾é€‰æ‹©ï¼Œå¾—åˆ°ç»è¿‡ç‰¹å¾é€‰æ‹©åçš„è®­ç»ƒæ•°æ®x_train_rfeå’Œæµ‹è¯•æ•°æ®x_test_rfeã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ç»è¿‡ç‰¹å¾é€‰æ‹©åçš„è®­ç»ƒæ•°æ®x_train_rfeå’Œå¯¹åº”çš„ç›®æ ‡å˜é‡y_trainï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„çº¿æ€§å›å½’æ¨¡å‹lm_kc_rfeï¼Œå¹¶è¿›è¡Œæ¨¡å‹çš„è®­ç»ƒã€‚</p>
<p>ç„¶åï¼Œä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹lm_kc_rfeå¯¹æµ‹è¯•æ•°æ®x_test_rfeè¿›è¡Œé¢„æµ‹ï¼Œå¾—åˆ°äº†é¢„æµ‹å€¼y_train_prediction_rfeã€‚</p>
<p>æœ€åï¼Œé€šè¿‡è®¡ç®—å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰æ¥è¯„ä¼°ç»è¿‡ç‰¹å¾é€‰æ‹©åæ¨¡å‹åœ¨æµ‹è¯•æ•°æ®ä¸Šçš„æ€§èƒ½ã€‚ä½¿ç”¨np.sqrt(metrics.mean_squared_error(y_test, y_train_prediction_rfe))è®¡ç®—äº†æ¨¡å‹åœ¨æµ‹è¯•æ•°æ®ä¸Šçš„å‡æ–¹æ ¹è¯¯å·®ã€‚</p>
<p>lm_kc_rfe.coef_è¿™ä¸€è¡Œä»£ç è¾“å‡ºäº†ç»è¿‡ç‰¹å¾é€‰æ‹©åçš„çº¿æ€§å›å½’æ¨¡å‹lm_kc_rfeçš„ç³»æ•°ã€‚é€šè¿‡è¿™ä¸ªç³»æ•°ï¼Œå¯ä»¥æŸ¥çœ‹ç»è¿‡ç‰¹å¾é€‰æ‹©åï¼Œæ¯ä¸ªç‰¹å¾å¯¹äºæ¨¡å‹çš„å½±å“ç¨‹åº¦ã€‚</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">x_train_rfe = kc_rfe.transform(x_train)</span><br><span class="line">x_test_rfe = kc_rfe.transform(x_test)</span><br><span class="line"></span><br><span class="line"><span class="comment">#fit model</span></span><br><span class="line">lm_kc_rfe = LinearRegression().fit(x_train_rfe, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment">#training data prediction</span></span><br><span class="line">y_train_prediction_rfe = lm_kc_rfe.predict(x_test_rfe)</span><br><span class="line"></span><br><span class="line"><span class="comment">#rmse</span></span><br><span class="line">train_rmse_rfe = np.sqrt(metrics.mean_squared_error(y_test, y_train_prediction_rfe))</span><br><span class="line">lm_kc_rfe.coef_</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041350942.png" alt="image.png"><br><strong>æ€»ç»“ï¼š</strong><br>å¯ä»¥çœ‹å‡ºç»è¿‡é€’å½’ç‰¹å¾æ¶ˆé™¤äº¤å‰éªŒè¯ï¼ˆRFECVï¼‰çš„æ¨¡å‹ç³»æ•°å¼‚å¸¸åœ°é«˜ã€‚è¿™äº›ç³»æ•°æ— æ³•ä¸ç‰¹å¾åç§°è½»æ¾å¯¹åº”ï¼Œä½†æ˜¯å¤§å¤šæ•°ç‰¹å¾çš„å•ä½å˜åŒ–ä¼šå¯¼è‡´æ•°ç™¾ä¸‡ç”šè‡³æ•°åƒä¸‡ç¾å…ƒçš„ä»·æ ¼å˜åŒ–ã€‚è¿™ä¹Ÿè§£é‡Šäº†åœ¨æ•°æ®é›†ç¨å¾®å˜åŒ–æ—¶ï¼Œè¯¥æ¨¡å‹çš„ä¸ç¨³å®šè¡Œä¸ºã€‚æ€»ç»“æ¥è¯´ï¼Œå¯ä»¥é¢„æµ‹è¿™ä¸ªæ¨¡å‹æ˜¯é«˜åº¦ä¸ç°å®çš„ã€‚</p>
<h4 id="4-5äº¤å‰éªŒè¯çš„é€’å½’ç‰¹å¾æ¶ˆé™¤"><a href="#4-5äº¤å‰éªŒè¯çš„é€’å½’ç‰¹å¾æ¶ˆé™¤" class="headerlink" title="4.5äº¤å‰éªŒè¯çš„é€’å½’ç‰¹å¾æ¶ˆé™¤"></a>4.5äº¤å‰éªŒè¯çš„é€’å½’ç‰¹å¾æ¶ˆé™¤</h4><p><strong>æ¦‚è¿°ï¼š</strong><br>é€šè¿‡ä½¿ç”¨äº¤å‰éªŒè¯çš„æ–¹å¼è¿›è¡Œç‰¹å¾é€‰æ‹©ï¼Œè¿™ä¸ªæ¨¡å‹ä¼šèŠ±è´¹æ›´å¤šçš„æ—¶é—´æ¥å®Œæˆã€‚ç†è®ºä¸Šï¼Œè¿™ä¸ªæ¨¡å‹åº”è¯¥æ˜¯æœ€å‡†ç¡®çš„æ¨¡å‹ï¼Œä½†å®é™…ç»“æœæ˜¾ç¤ºï¼Œè¿™ä¸ªæ¨¡å‹åœ¨æŸäº›æƒ…å†µä¸‹è™½ç„¶å‡†ç¡®ï¼Œä½†ä¹Ÿè¡¨ç°ä¸ç¨³å®šã€‚è¿™ç§ä¸ç¨³å®šçš„è¡Œä¸ºå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ¨¡å‹ç³»æ•°æ¥è§£é‡Šã€‚</p>
<p><strong>ä»£ç è§£æï¼š</strong><br>é¦–å…ˆåˆ›å»ºä¸€ä¸ªRFECVå¯¹è±¡kc_rfecvï¼Œå…¶ä¸­æŒ‡å®šä¼°è®¡å™¨ï¼ˆestimatorï¼‰ä¸ºçº¿æ€§å›å½’æ¨¡å‹ï¼ˆLinearRegression()ï¼‰ï¼Œæ­¥é•¿ï¼ˆstepï¼‰ä¸º1ï¼Œäº¤å‰éªŒè¯çš„æŠ˜æ•°ï¼ˆcvï¼‰ä¸º5ï¼Œè¯„ä¼°æŒ‡æ ‡ï¼ˆscoringï¼‰ä¸ºè´Ÿçš„å‡æ–¹æ ¹è¯¯å·®ï¼ˆneg_root_mean_squared_errorï¼‰ï¼Œå¹¶ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„å¤„ç†å™¨ï¼ˆn_jobs&#x3D;-1ï¼‰è¿›è¡Œå¹¶è¡Œè®¡ç®—ã€‚ç„¶åï¼Œä½¿ç”¨x_trainå’Œy_trainä½œä¸ºè®­ç»ƒæ•°æ®æ¥æ‹ŸåˆRFECVæ¨¡å‹ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨RFECVå¯¹è±¡çš„transformæ–¹æ³•å°†è®­ç»ƒæ•°æ®x_trainè¿›è¡Œç‰¹å¾é€‰æ‹©ï¼Œå¾—åˆ°ç»è¿‡ç‰¹å¾é€‰æ‹©åçš„è®­ç»ƒæ•°æ®x_train_rfecvå’Œæµ‹è¯•æ•°æ®x_test_rfecvã€‚</p>
<p>ç„¶åï¼Œä½¿ç”¨ç»è¿‡ç‰¹å¾é€‰æ‹©åçš„è®­ç»ƒæ•°æ®x_train_rfecvå’Œå¯¹åº”çš„ç›®æ ‡å˜é‡y_trainï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„çº¿æ€§å›å½’æ¨¡å‹lm_kc_rfecvï¼Œå¹¶è¿›è¡Œæ¨¡å‹çš„è®­ç»ƒã€‚</p>
<p>ç„¶åï¼Œä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹lm_kc_rfecvå¯¹æµ‹è¯•æ•°æ®x_test_rfecvè¿›è¡Œé¢„æµ‹ï¼Œå¾—åˆ°äº†é¢„æµ‹å€¼y_train_prediction_rfecvã€‚</p>
<p>æœ€åï¼Œé€šè¿‡è®¡ç®—å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰æ¥è¯„ä¼°ç»è¿‡ç‰¹å¾é€‰æ‹©åæ¨¡å‹åœ¨æµ‹è¯•æ•°æ®ä¸Šçš„æ€§èƒ½ã€‚ä½¿ç”¨np.sqrt(metrics.mean_squared_error(y_test, y_train_prediction_rfecv))è®¡ç®—äº†æ¨¡å‹åœ¨æµ‹è¯•æ•°æ®ä¸Šçš„å‡æ–¹æ ¹è¯¯å·®ã€‚</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">kc_rfecv = RFECV(estimator=LinearRegression(), step=<span class="number">1</span>, cv=<span class="number">5</span>,</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â scoring=<span class="string">&quot;neg_root_mean_squared_error&quot;</span>, n_jobs=-<span class="number">1</span>)</span><br><span class="line">kc_rfecv = kc_rfecv.fit(x_train, y_train)</span><br><span class="line"></span><br><span class="line">x_train_rfecv = kc_rfecv.transform(x_train)</span><br><span class="line">x_test_rfecv = kc_rfecv.transform(x_test)</span><br><span class="line"></span><br><span class="line"><span class="comment">#fit model</span></span><br><span class="line">lm_kc_rfecv = LinearRegression().fit(x_train_rfecv, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment">#training data prediction</span></span><br><span class="line">y_train_prediction_rfecv = lm_kc_rfecv.predict(x_test_rfecv)</span><br><span class="line"></span><br><span class="line"><span class="comment">#rmse</span></span><br><span class="line">train_rmse_rfecv = np.sqrt(metrics.mean_squared_error(y_test, y_train_prediction_rfecv))</span><br><span class="line"></span><br><span class="line">lm_kc_rfecv.coef_</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041355822.png" alt="image.png"></p>
<p><strong>æ€»ç»“ï¼š</strong><br>RFECVæ¨¡å‹çš„ç³»æ•°çœ‹èµ·æ¥å¼‚å¸¸åœ°é«˜ã€‚è¿™äº›ç³»æ•°æ— æ³•ä¸ç‰¹å¾åç§°è½»æ¾å¯¹åº”ï¼Œä½†å¤§å¤šæ•°ç‰¹å¾çš„å•ä½å˜åŒ–ä¼šå¯¼è‡´æ•°ç™¾ä¸‡ç”šè‡³æ•°åƒä¸‡ç¾å…ƒçš„ä»·æ ¼å˜åŒ–ã€‚è¿™ä¹Ÿè§£é‡Šäº†åœ¨æ•°æ®é›†ç¨å¾®å˜åŒ–æ—¶ï¼Œè¯¥æ¨¡å‹çš„ä¸ç¨³å®šè¡Œä¸ºã€‚æ€»ç»“æ¥è¯´ï¼Œå¯ä»¥é¢„æµ‹è¿™ä¸ªæ¨¡å‹ä¹Ÿæ˜¯é«˜åº¦ä¸ç°å®çš„ã€‚</p>
<h4 id="4-6æ¨¡å‹å¯¹æ¯”ä¸é€‰æ‹©"><a href="#4-6æ¨¡å‹å¯¹æ¯”ä¸é€‰æ‹©" class="headerlink" title="4.6æ¨¡å‹å¯¹æ¯”ä¸é€‰æ‹©"></a>4.6æ¨¡å‹å¯¹æ¯”ä¸é€‰æ‹©</h4><p>é€šè¿‡ä»¥ä¸‹ä»£ç ï¼Œè¾“å‡ºä¸Šè¿°ä¸åŒæ¨¡å‹åœ¨è®­ç»ƒæ•°æ®ä¸Šçš„å‡æ–¹æ ¹è¯¯å·®ã€‚é€šè¿‡è¿™äº›è¯¯å·®ï¼Œå¯ä»¥æ¯”è¾ƒä¸åŒæ¨¡å‹çš„æ€§èƒ½ï¼Œäº†è§£å®ƒä»¬åœ¨è®­ç»ƒæ•°æ®ä¸Šçš„é¢„æµ‹ç²¾åº¦ã€‚è¾ƒä½çš„å‡æ–¹æ ¹è¯¯å·®è¡¨ç¤ºæ¨¡å‹çš„é¢„æµ‹ç»“æœä¸å®é™…å€¼ä¹‹é—´çš„è¯¯å·®è¾ƒå°ï¼Œé¢„æµ‹æ€§èƒ½è¾ƒå¥½ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;OLS Model Errors&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Root Mean Squared Error:&quot;</span>, ols_rmse)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Basic Linear Regression Model Errors&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Root Mean Squared Error:&quot;</span>, train_rmse)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Linear Regression Model with Recursive Feature Elimination Errors&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Root Mean Squared Error:&#x27;</span> , train_rmse_rfe)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Linear Regression Model with Recursive Feature Elimination with Cross Validation Errors&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Root Mean Squared Error:&quot;</span> , train_rmse_rfecv)</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š<br><code>OLS Model Errors Root Mean Squared Error: 189818.9783572206 </code></p>
<p><code>Basic Linear Regression Model Errors Root Mean Squared Error: 157757.42505386463</code></p>
<p><code>Linear Regression Model with Recursive Feature Elimination Errors Root Mean Squared Error: 206293.18835843043 </code></p>
<p><code>Linear Regression Model with Recursive Feature Elimination with Cross Validation Errors Root Mean Squared Error: 158517.33695024686</code></p>
<p><strong>ç»“è®ºï¼š</strong><br>ç»¼ä¸Šï¼ŒBasic Linear Regression modelçš„å‡æ–¹æ ¹è¯¯å·®åœ¨æ‰€æœ‰æ¨¡å‹ä¸­æœ€ä½ã€‚ç„¶è€Œï¼ŒRMSEå¹¶ä¸æ˜¯æ¨¡å‹çš„å…¨è²Œã€‚å½“å¯¹å„æ¨¡å‹çš„ç³»æ•°è¿›è¡Œåˆ†ææ—¶ï¼Œè§‚å¯Ÿåˆ°ä»¥ä¸‹æƒ…å†µï¼š<br>-åŸºæœ¬çº¿æ€§æ¨¡å‹åœ¨è´Ÿé¢„æµ‹ä¸­å‡ºç°åæ–œ<br>-RFEçº¿æ€§æ¨¡å‹ç³»æ•°è¡¨ç°å‡ºæœ€ä½³å¹³è¡¡ã€‚<br>-RFECVçº¿æ€§æ¨¡å‹ç³»æ•°å¼‚å¸¸é«˜ï¼Œå¤§å¤šæ•°éƒ½é«˜äºç›®æ ‡å€¼ã€‚<br>å› æ­¤ï¼Œé€‰æ‹©RFEçº¿æ€§å›å½’æ¨¡å‹ä½œä¸ºæœ€ç»ˆæ¨¡å‹ã€‚</p>
<h3 id="5-æ¨¡å‹å¯¼å‡º"><a href="#5-æ¨¡å‹å¯¼å‡º" class="headerlink" title="5.æ¨¡å‹å¯¼å‡º"></a>5.æ¨¡å‹å¯¼å‡º</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;models/regression_model_rfe.pickle&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> model:</span><br><span class="line">Â  Â  pickle.dump(lm_kc_rfe, model)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;models/transform_rfe.pickle&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> transform:</span><br><span class="line">Â  Â  pickle.dump(kc_rfe, transform)</span><br><span class="line"></span><br><span class="line">ziplist.to_csv(<span class="string">&quot;data/zipcod_dummy.csv&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="6-é¢„æµ‹ï¼ˆæ¨¡å‹çš„ä½¿ç”¨ï¼‰"><a href="#6-é¢„æµ‹ï¼ˆæ¨¡å‹çš„ä½¿ç”¨ï¼‰" class="headerlink" title="6.é¢„æµ‹ï¼ˆæ¨¡å‹çš„ä½¿ç”¨ï¼‰"></a>6.é¢„æµ‹ï¼ˆæ¨¡å‹çš„ä½¿ç”¨ï¼‰</h3><h4 id="6-1å¯¼å…¥åº“"><a href="#6-1å¯¼å…¥åº“" class="headerlink" title="6.1å¯¼å…¥åº“"></a>6.1å¯¼å…¥åº“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">pd.options.display.max_columns = <span class="number">500</span></span><br><span class="line">pd.options.display.max_rows = <span class="number">500</span></span><br></pre></td></tr></table></figure>

<h4 id="6-2å¯¼å…¥æµ‹è¯•é›†"><a href="#6-2å¯¼å…¥æµ‹è¯•é›†" class="headerlink" title="6.2å¯¼å…¥æµ‹è¯•é›†"></a>6.2å¯¼å…¥æµ‹è¯•é›†</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kc_import_df = pd.read_csv(<span class="string">&quot;data/kc_house_data_test_features.csv&quot;</span>, index_col=<span class="number">0</span>)</span><br><span class="line">kc_test_df = kc_import_df <span class="comment">#this is done not to adulterate the original file</span></span><br><span class="line">kc_test_df.head()</span><br></pre></td></tr></table></figure>

<p>éƒ¨åˆ†æµ‹è¯•é›†ï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041414554.png" alt="image.png"></p>
<h4 id="6-3-é‚®æ”¿ç¼–ç ä¼ªå˜é‡å¯¼å…¥"><a href="#6-3-é‚®æ”¿ç¼–ç ä¼ªå˜é‡å¯¼å…¥" class="headerlink" title="6.3 é‚®æ”¿ç¼–ç ä¼ªå˜é‡å¯¼å…¥"></a>6.3 é‚®æ”¿ç¼–ç ä¼ªå˜é‡å¯¼å…¥</h4><p>æ³¨æ„ï¼š<br>å¯¼å…¥çš„æ•°æ®é›†åº”ä¸çº¿æ€§æ¨¡å‹ç›¸åŒ¹é…</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ziplist = pd.read_csv(<span class="string">&quot;data/zipcod_dummy.csv&quot;</span>, index_col=<span class="number">0</span>)</span><br><span class="line">ziplist = ziplist.zipcode</span><br><span class="line">ziplist.head()</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041416897.png" alt="image.png"></p>
<h4 id="6-4ç‰¹å¾å·¥ç¨‹"><a href="#6-4ç‰¹å¾å·¥ç¨‹" class="headerlink" title="6.4ç‰¹å¾å·¥ç¨‹"></a>6.4ç‰¹å¾å·¥ç¨‹</h4><p>ç›¸å½“äº<strong>3.ç‰¹å¾å·¥ç¨‹ï¼ˆFeature Engineeringï¼‰</strong></p>
<p>å…·ä½“ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#renovation</span></span><br><span class="line">kc_test_df[<span class="string">&quot;renovated&quot;</span>] = kc_test_df.yr_renovated.apply(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>)</span><br><span class="line">kc_test_df[<span class="string">&quot;renovation_age&quot;</span>] = kc_test_df.yr_renovated.apply(<span class="keyword">lambda</span> x: <span class="number">2020</span>-x <span class="keyword">if</span> x &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#basement</span></span><br><span class="line">kc_test_df[<span class="string">&quot;basement&quot;</span>] = kc_test_df.sqft_basement.apply(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x != <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#master bathroom</span></span><br><span class="line">kc_test_df[<span class="string">&quot;master_bathroom&quot;</span>] = kc_test_df.bathrooms.apply(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x &gt; <span class="number">2</span> <span class="keyword">else</span> <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#family house</span></span><br><span class="line">kc_test_df[<span class="string">&quot;family_house&quot;</span>] = kc_test_df.bedrooms.apply(<span class="keyword">lambda</span> x: <span class="number">1</span> <span class="keyword">if</span> x &gt; <span class="number">2</span> <span class="keyword">else</span> <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#sold year and quarter</span></span><br><span class="line">kc_test_df[<span class="string">&quot;sale_year&quot;</span>] = kc_test_df.date.apply(<span class="keyword">lambda</span> x: <span class="built_in">int</span>(x[:<span class="number">4</span>]))</span><br><span class="line">kc_test_df[<span class="string">&quot;sale_quarter&quot;</span>] = kc_test_df.date.apply(<span class="keyword">lambda</span> x: <span class="built_in">int</span>(x[<span class="number">4</span>:<span class="number">6</span>])//<span class="number">3.1</span> + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#zipcode dummy variables</span></span><br><span class="line">kc_test_df = kc_test_df.merge(pd.get_dummies(ziplist), left_index=<span class="literal">True</span>, right_index=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#squared bedrooms and bathrooms</span></span><br><span class="line">kc_test_df[<span class="string">&quot;bedroom_squared&quot;</span>] = kc_test_df[<span class="string">&quot;bedrooms&quot;</span>] ** <span class="number">2</span></span><br><span class="line">kc_test_df[<span class="string">&quot;bathroom_squared&quot;</span>] = kc_test_df[<span class="string">&quot;bathrooms&quot;</span>] ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># uncomment to check the data set</span></span><br><span class="line"><span class="comment"># kc_test_df.head()</span></span><br><span class="line"></span><br><span class="line">features = [col <span class="keyword">for</span> col <span class="keyword">in</span> kc_test_df.columns <span class="keyword">if</span> col <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;date&quot;</span>] ] <span class="comment">#remove unused column</span></span><br><span class="line"></span><br><span class="line">kc_test_df_features = kc_test_df[features] <span class="comment">#set train/test data using feature above</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kc_test_df_features.head()</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041425359.png" alt="image.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kc_test_df_features.describe()</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š<br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041425290.png" alt="image.png"></p>
<h4 id="6-5å¯¼å…¥æ¨¡å‹ä¸é¢„æµ‹ä»·æ ¼"><a href="#6-5å¯¼å…¥æ¨¡å‹ä¸é¢„æµ‹ä»·æ ¼" class="headerlink" title="6.5å¯¼å…¥æ¨¡å‹ä¸é¢„æµ‹ä»·æ ¼"></a>6.5å¯¼å…¥æ¨¡å‹ä¸é¢„æµ‹ä»·æ ¼</h4><p><strong>å¯¼å…¥æ¨¡å‹ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;models/regression_model_rfe.pickle&quot;</span>, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> model:</span><br><span class="line">Â  Â  lr_model_rfe = pickle.load(model)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;models/transform_rfe.pickle&quot;</span>, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> transform:</span><br><span class="line">Â  Â  rfe_transform = pickle.load(transform)</span><br></pre></td></tr></table></figure>
<p><strong>æ ¹æ®RFECVå˜æ¢ç‰¹å¾ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rfe_features = rfe_transform.transform(kc_test_df_features)</span><br></pre></td></tr></table></figure>
<p><strong>æˆ¿ä»·é¢„æµ‹ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kc_price_predict_rfe = lr_model_rfe.predict(rfe_features)</span><br><span class="line">price_prediction_rfe = pd.DataFrame(&#123;<span class="string">&quot;price&quot;</span>:kc_price_predict_rfe&#125;)</span><br><span class="line">price_prediction_rfe.describe()</span><br></pre></td></tr></table></figure>
<p><strong>é¢„æµ‹ç»“æœï¼š</strong><br><img src="https://images-1314484890.cos.ap-nanjing.myqcloud.com/Obsidian/202306041430304.png" alt="image.png"></p>
<h4 id="6-6é¢„æµ‹ç»“æœåˆå¹¶ä¸å¯¼å‡º"><a href="#6-6é¢„æµ‹ç»“æœåˆå¹¶ä¸å¯¼å‡º" class="headerlink" title="6.6é¢„æµ‹ç»“æœåˆå¹¶ä¸å¯¼å‡º"></a>6.6é¢„æµ‹ç»“æœåˆå¹¶ä¸å¯¼å‡º</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">selectedfeatures = []</span><br><span class="line">final_model.predict(holdout[sele])</span><br><span class="line">kc_import_df = kc_import_df.merge(price_prediction_rfe, left_index=<span class="literal">True</span>, right_index=<span class="literal">True</span>)</span><br><span class="line"><span class="comment">#reset columns for export</span></span><br><span class="line">kc_import_df = kc_import_df[[<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;price&#x27;</span>, <span class="string">&#x27;date&#x27;</span>, <span class="string">&#x27;bedrooms&#x27;</span>, <span class="string">&#x27;bathrooms&#x27;</span>, <span class="string">&#x27;sqft_living&#x27;</span>,<span class="string">&#x27;sqft_lot&#x27;</span>, <span class="string">&#x27;floors&#x27;</span>, <span class="string">&#x27;waterfront&#x27;</span>, <span class="string">&#x27;view&#x27;</span>, <span class="string">&#x27;condition&#x27;</span>, <span class="string">&#x27;grade&#x27;</span>,<span class="string">&#x27;sqft_above&#x27;</span>, <span class="string">&#x27;sqft_basement&#x27;</span>, <span class="string">&#x27;yr_built&#x27;</span>,<span class="string">&#x27;yr_renovated&#x27;</span>,<span class="string">&#x27;zipcode&#x27;</span>,<span class="string">&#x27;lat&#x27;</span>,<span class="string">&#x27;long&#x27;</span>,<span class="string">&#x27;sqft_living15&#x27;</span>, <span class="string">&#x27;sqft_lot15&#x27;</span>]]</span><br><span class="line">kc_import_df.to_csv(<span class="string">&quot;results/kc_house_price_prediction.csv&quot;</span>)</span><br><span class="line">price_prediction_rfe.to_csv(<span class="string">&quot;results/kc_house_price_prediction_no_features.csv&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®é€‰å®šçš„ç‰¹å¾è¿›è¡Œæˆ¿ä»·é¢„æµ‹ï¼Œå¹¶å°†é¢„æµ‹ç»“æœä¸å…¶ä»–ç›¸å…³æ•°æ®è¿›è¡Œåˆå¹¶ã€‚ç„¶åï¼Œå°†åˆå¹¶åçš„æ•°æ®ä¿å­˜ä¸ºåä¸ºâ€kc_house_price_prediction.csvâ€çš„CSVæ–‡ä»¶ã€‚<br>æœ€åï¼Œå°†price_prediction_rfeä¿å­˜ä¸ºåä¸ºâ€kc_house_price_prediction_no_features.csvâ€çš„CSVæ–‡ä»¶ã€‚</p>
<h1 id="å››ã€å®éªŒç»“æœ"><a href="#å››ã€å®éªŒç»“æœ" class="headerlink" title="å››ã€å®éªŒç»“æœ"></a>å››ã€å®éªŒç»“æœ</h1><p>é¦–å…ˆï¼Œå¯¹å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹ã€é€’å½’ç‰¹å¾æ¶ˆé™¤ã€äº¤å‰éªŒè¯çš„é€’å½’ç‰¹å¾æ¶ˆé™¤ç­‰å›å½’æ¨¡å‹åˆ†åˆ«è¿›è¡Œæµ‹è¯•ï¼Œæ¯”è¾ƒå‡ºåœ¨é¢„æµ‹æˆ¿ä»·ä¸Šè¡¨ç°çš„æœ€å¥½çš„æœ€ç¨³å®šçš„æ¨¡å‹ï¼šRFEçº¿æ€§å›å½’æ¨¡å‹ã€‚<br>å…¶æ¬¡ï¼Œé€šè¿‡å»ºç«‹å¥½çš„RFEçº¿æ€§å›å½’æ¨¡å‹è¿›è¡ŒæœªçŸ¥æˆ¿ä»·çš„æ•°æ®é›†çš„æˆ¿ä»·é¢„æµ‹ï¼Œå¾—åˆ°æˆ¿ä»·é¢„æµ‹è¡¨ã€‚</p>
<h1 id="äº”ã€å®éªŒåˆ†æ"><a href="#äº”ã€å®éªŒåˆ†æ" class="headerlink" title="äº”ã€å®éªŒåˆ†æ"></a>äº”ã€å®éªŒåˆ†æ</h1><p>æ­¤æ¬¡å®éªŒï¼Œåœ¨å¤šä¸ªæ¨¡å‹ä¸Šè¿›è¡Œäº†ä¼˜åŠ£å¯¹æ¯”ï¼Œä½†åœ¨æ¨¡å‹è€ƒå¯Ÿä¸Šåªä½¿ç”¨äº†å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰ï¼Œå¾€åå¯ä»¥è€ƒè™‘ç”¨æ›´å¤šè¯„ä»·æŒ‡æ ‡æ¥å¯¹æ¨¡å‹è¿›è¡Œè¯„ä¼°ï¼Œä»¥æ­¤è·å¾—æ›´åŠ å…¨é¢çš„æ¨¡å‹æŠ¥å‘Šã€‚</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">John Doe</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://example.com/2023/06/284aeead5564.html">http://example.com/2023/06/284aeead5564.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2023/06/6f49b06c6fae.html"><i class="fa fa-chevron-left">  </i><span></span></a></div><div class="next-post pull-right"><a href="/2023/06/421b0a24131a.html"><span></span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2023 By John Doe</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.1"></script><script src="/js/fancybox.js?version=1.9.1"></script><script src="/js/sidebar.js?version=1.9.1"></script><script src="/js/copy.js?version=1.9.1"></script><script src="/js/fireworks.js?version=1.9.1"></script><script src="/js/transition.js?version=1.9.1"></script><script src="/js/scroll.js?version=1.9.1"></script><script src="/js/head.js?version=1.9.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>